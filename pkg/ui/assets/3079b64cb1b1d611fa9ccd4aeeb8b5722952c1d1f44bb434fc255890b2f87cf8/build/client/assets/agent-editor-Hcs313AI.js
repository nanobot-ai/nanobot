import{j as t,r,z as Et,F as kt,A as Mt}from"./chunk-QMGIS6GS-DfTvyqh6.js";import{c as Le,a as P,P as R,u as A,b as ue,d as _e,e as N,f as Dt,g as Oe,h as Ve,R as At,i as fe,j as Lt,A as Ot,k as q,l as Vt,V as Bt,m as Ft,n as Ut,o as Ht,p as $t,q as zt,F as Wt,D as Kt,C as Gt,r as qt,s as Be,t as Yt,I as Xt,v as Zt,B as de}from"./use-chat-BHBTbUC_.js";import{a as Fe,T as Jt}from"./chat-BT-XX1t1.js";import{a as Ue}from"./index-DnWePWqS.js";import{C as Qt}from"./chevron-up-BrjaNDif.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=Le("check",eo);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["path",{d:"M5 12h14",key:"1ays0h"}]],no=Le("minus",oo);function ne({className:e,type:o,...n}){return t.jsx("input",{type:o,"data-slot":"input",className:P("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var ro="Label",He=r.forwardRef((e,o)=>t.jsx(R.label,{...e,ref:o,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));He.displayName=ro;var so=He;function z({className:e,...o}){return t.jsx(so,{"data-slot":"label",className:P("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...o})}function $e(e){const o=r.useRef({value:e,previous:e});return r.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}var he="Switch",[ao,wn]=_e(he),[io,lo]=ao(he),ze=r.forwardRef((e,o)=>{const{__scopeSwitch:n,name:i,checked:s,defaultChecked:d,required:a,disabled:l,value:c="on",onCheckedChange:u,form:h,...v}=e,[S,y]=r.useState(null),w=A(o,m=>y(m)),f=r.useRef(!1),b=S?h||!!S.closest("form"):!0,[g,p]=ue({prop:s,defaultProp:d??!1,onChange:u,caller:he});return t.jsxs(io,{scope:n,checked:g,disabled:l,children:[t.jsx(R.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":qe(g),"data-disabled":l?"":void 0,disabled:l,value:c,...v,ref:w,onClick:N(e.onClick,m=>{p(_=>!_),b&&(f.current=m.isPropagationStopped(),f.current||m.stopPropagation())})}),b&&t.jsx(Ge,{control:S,bubbles:!f.current,name:i,value:c,checked:g,required:a,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});ze.displayName=he;var We="SwitchThumb",Ke=r.forwardRef((e,o)=>{const{__scopeSwitch:n,...i}=e,s=lo(We,n);return t.jsx(R.span,{"data-state":qe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:o})});Ke.displayName=We;var co="SwitchBubbleInput",Ge=r.forwardRef(({__scopeSwitch:e,control:o,checked:n,bubbles:i=!0,...s},d)=>{const a=r.useRef(null),l=A(a,d),c=$e(n),u=Dt(o);return r.useEffect(()=>{const h=a.current;if(!h)return;const v=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(v,"checked").set;if(c!==n&&y){const w=new Event("click",{bubbles:i});y.call(h,n),h.dispatchEvent(w)}},[c,n,i]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ge.displayName=co;function qe(e){return e?"checked":"unchecked"}var uo=ze,po=Ke;function fo({className:e,...o}){return t.jsx(uo,{"data-slot":"switch",className:P("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:t.jsx(po,{"data-slot":"switch-thumb",className:P("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function Me(e,[o,n]){return Math.min(n,Math.max(o,e))}var ho=[" ","Enter","ArrowUp","ArrowDown"],mo=[" ","Enter"],ee="Select",[me,ve,vo]=Lt(ee),[re,yn]=_e(ee,[vo,Oe]),ge=Oe(),[go,Y]=re(ee),[xo,bo]=re(ee),Ye=e=>{const{__scopeSelect:o,children:n,open:i,defaultOpen:s,onOpenChange:d,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:v,disabled:S,required:y,form:w}=e,f=ge(o),[b,g]=r.useState(null),[p,m]=r.useState(null),[_,M]=r.useState(!1),se=Ve(u),[E,O]=ue({prop:i,defaultProp:s??!1,onChange:d,caller:ee}),[W,Z]=ue({prop:a,defaultProp:l,onChange:c,caller:ee}),B=r.useRef(null),F=b?w||!!b.closest("form"):!0,[K,U]=r.useState(new Set),H=Array.from(K).map(k=>k.props.value).join(";");return t.jsx(At,{...f,children:t.jsxs(go,{required:y,scope:o,trigger:b,onTriggerChange:g,valueNode:p,onValueNodeChange:m,valueNodeHasChildren:_,onValueNodeHasChildrenChange:M,contentId:fe(),value:W,onValueChange:Z,open:E,onOpenChange:O,dir:se,triggerPointerDownPosRef:B,disabled:S,children:[t.jsx(me.Provider,{scope:o,children:t.jsx(xo,{scope:e.__scopeSelect,onNativeOptionAdd:r.useCallback(k=>{U(V=>new Set(V).add(k))},[]),onNativeOptionRemove:r.useCallback(k=>{U(V=>{const $=new Set(V);return $.delete(k),$})},[]),children:n})}),F?t.jsxs(gt,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:v,value:W,onChange:k=>Z(k.target.value),disabled:S,form:w,children:[W===void 0?t.jsx("option",{value:""}):null,Array.from(K)]},H):null]})})};Ye.displayName=ee;var Xe="SelectTrigger",Ze=r.forwardRef((e,o)=>{const{__scopeSelect:n,disabled:i=!1,...s}=e,d=ge(n),a=Y(Xe,n),l=a.disabled||i,c=A(o,a.onTriggerChange),u=ve(n),h=r.useRef("touch"),[v,S,y]=bt(f=>{const b=u().filter(m=>!m.disabled),g=b.find(m=>m.value===a.value),p=St(b,f,g);p!==void 0&&a.onValueChange(p.value)}),w=f=>{l||(a.onOpenChange(!0),y()),f&&(a.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return t.jsx(Ot,{asChild:!0,...d,children:t.jsx(R.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":xt(a.value)?"":void 0,...s,ref:c,onClick:N(s.onClick,f=>{f.currentTarget.focus(),h.current!=="mouse"&&w(f)}),onPointerDown:N(s.onPointerDown,f=>{h.current=f.pointerType;const b=f.target;b.hasPointerCapture(f.pointerId)&&b.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(w(f),f.preventDefault())}),onKeyDown:N(s.onKeyDown,f=>{const b=v.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&S(f.key),!(b&&f.key===" ")&&ho.includes(f.key)&&(w(),f.preventDefault())})})})});Ze.displayName=Xe;var Je="SelectValue",Qe=r.forwardRef((e,o)=>{const{__scopeSelect:n,className:i,style:s,children:d,placeholder:a="",...l}=e,c=Y(Je,n),{onValueNodeHasChildrenChange:u}=c,h=d!==void 0,v=A(o,c.onValueNodeChange);return q(()=>{u(h)},[u,h]),t.jsx(R.span,{...l,ref:v,style:{pointerEvents:"none"},children:xt(c.value)?t.jsx(t.Fragment,{children:a}):d})});Qe.displayName=Je;var So="SelectIcon",et=r.forwardRef((e,o)=>{const{__scopeSelect:n,children:i,...s}=e;return t.jsx(R.span,{"aria-hidden":!0,...s,ref:o,children:i||"â–¼"})});et.displayName=So;var wo="SelectPortal",tt=e=>t.jsx(Vt,{asChild:!0,...e});tt.displayName=wo;var te="SelectContent",ot=r.forwardRef((e,o)=>{const n=Y(te,e.__scopeSelect),[i,s]=r.useState();if(q(()=>{s(new DocumentFragment)},[]),!n.open){const d=i;return d?Ue.createPortal(t.jsx(nt,{scope:e.__scopeSelect,children:t.jsx(me.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),d):null}return t.jsx(rt,{...e,ref:o})});ot.displayName=te;var L=10,[nt,X]=re(te),yo="SelectContentImpl",Co=zt("SelectContent.RemoveScroll"),rt=r.forwardRef((e,o)=>{const{__scopeSelect:n,position:i="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:d,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:v,collisionBoundary:S,collisionPadding:y,sticky:w,hideWhenDetached:f,avoidCollisions:b,...g}=e,p=Y(te,n),[m,_]=r.useState(null),[M,se]=r.useState(null),E=A(o,x=>_(x)),[O,W]=r.useState(null),[Z,B]=r.useState(null),F=ve(n),[K,U]=r.useState(!1),H=r.useRef(!1);r.useEffect(()=>{if(m)return Ut(m)},[m]),Ht();const k=r.useCallback(x=>{const[I,...D]=F().map(T=>T.ref.current),[j]=D.slice(-1),C=document.activeElement;for(const T of x)if(T===C||(T==null||T.scrollIntoView({block:"nearest"}),T===I&&M&&(M.scrollTop=0),T===j&&M&&(M.scrollTop=M.scrollHeight),T==null||T.focus(),document.activeElement!==C))return},[F,M]),V=r.useCallback(()=>k([O,m]),[k,O,m]);r.useEffect(()=>{K&&V()},[K,V]);const{onOpenChange:$,triggerPointerDownPosRef:G}=p;r.useEffect(()=>{if(m){let x={x:0,y:0};const I=j=>{var C,T;x={x:Math.abs(Math.round(j.pageX)-(((C=G.current)==null?void 0:C.x)??0)),y:Math.abs(Math.round(j.pageY)-(((T=G.current)==null?void 0:T.y)??0))}},D=j=>{x.x<=10&&x.y<=10?j.preventDefault():m.contains(j.target)||$(!1),document.removeEventListener("pointermove",I),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",I),document.addEventListener("pointerup",D,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",D,{capture:!0})}}},[m,$,G]),r.useEffect(()=>{const x=()=>$(!1);return window.addEventListener("blur",x),window.addEventListener("resize",x),()=>{window.removeEventListener("blur",x),window.removeEventListener("resize",x)}},[$]);const[be,le]=bt(x=>{const I=F().filter(C=>!C.disabled),D=I.find(C=>C.ref.current===document.activeElement),j=St(I,x,D);j&&setTimeout(()=>j.ref.current.focus())}),Se=r.useCallback((x,I,D)=>{const j=!H.current&&!D;(p.value!==void 0&&p.value===I||j)&&(W(x),j&&(H.current=!0))},[p.value]),we=r.useCallback(()=>m==null?void 0:m.focus(),[m]),oe=r.useCallback((x,I,D)=>{const j=!H.current&&!D;(p.value!==void 0&&p.value===I||j)&&B(x)},[p.value]),ce=i==="popper"?je:st,ae=ce===je?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:v,collisionBoundary:S,collisionPadding:y,sticky:w,hideWhenDetached:f,avoidCollisions:b}:{};return t.jsx(nt,{scope:n,content:m,viewport:M,onViewportChange:se,itemRefCallback:Se,selectedItem:O,onItemLeave:we,itemTextRefCallback:oe,focusSelectedItem:V,selectedItemText:Z,position:i,isPositioned:K,searchRef:be,children:t.jsx($t,{as:Co,allowPinchZoom:!0,children:t.jsx(Wt,{asChild:!0,trapped:p.open,onMountAutoFocus:x=>{x.preventDefault()},onUnmountAutoFocus:N(s,x=>{var I;(I=p.trigger)==null||I.focus({preventScroll:!0}),x.preventDefault()}),children:t.jsx(Kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:a,onFocusOutside:x=>x.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:t.jsx(ce,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:x=>x.preventDefault(),...g,...ae,onPlaced:()=>U(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:N(g.onKeyDown,x=>{const I=x.ctrlKey||x.altKey||x.metaKey;if(x.key==="Tab"&&x.preventDefault(),!I&&x.key.length===1&&le(x.key),["ArrowUp","ArrowDown","Home","End"].includes(x.key)){let j=F().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(x.key)&&(j=j.slice().reverse()),["ArrowUp","ArrowDown"].includes(x.key)){const C=x.target,T=j.indexOf(C);j=j.slice(T+1)}setTimeout(()=>k(j)),x.preventDefault()}})})})})})})});rt.displayName=yo;var To="SelectItemAlignedPosition",st=r.forwardRef((e,o)=>{const{__scopeSelect:n,onPlaced:i,...s}=e,d=Y(te,n),a=X(te,n),[l,c]=r.useState(null),[u,h]=r.useState(null),v=A(o,E=>h(E)),S=ve(n),y=r.useRef(!1),w=r.useRef(!0),{viewport:f,selectedItem:b,selectedItemText:g,focusSelectedItem:p}=a,m=r.useCallback(()=>{if(d.trigger&&d.valueNode&&l&&u&&f&&b&&g){const E=d.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),W=d.valueNode.getBoundingClientRect(),Z=g.getBoundingClientRect();if(d.dir!=="rtl"){const C=Z.left-O.left,T=W.left-C,J=E.left-T,Q=E.width+J,ye=Math.max(Q,O.width),Ce=window.innerWidth-L,Te=Me(T,[L,Math.max(L,Ce-ye)]);l.style.minWidth=Q+"px",l.style.left=Te+"px"}else{const C=O.right-Z.right,T=window.innerWidth-W.right-C,J=window.innerWidth-E.right-T,Q=E.width+J,ye=Math.max(Q,O.width),Ce=window.innerWidth-L,Te=Me(T,[L,Math.max(L,Ce-ye)]);l.style.minWidth=Q+"px",l.style.right=Te+"px"}const B=S(),F=window.innerHeight-L*2,K=f.scrollHeight,U=window.getComputedStyle(u),H=parseInt(U.borderTopWidth,10),k=parseInt(U.paddingTop,10),V=parseInt(U.borderBottomWidth,10),$=parseInt(U.paddingBottom,10),G=H+k+K+$+V,be=Math.min(b.offsetHeight*5,G),le=window.getComputedStyle(f),Se=parseInt(le.paddingTop,10),we=parseInt(le.paddingBottom,10),oe=E.top+E.height/2-L,ce=F-oe,ae=b.offsetHeight/2,x=b.offsetTop+ae,I=H+k+x,D=G-I;if(I<=oe){const C=B.length>0&&b===B[B.length-1].ref.current;l.style.bottom="0px";const T=u.clientHeight-f.offsetTop-f.offsetHeight,J=Math.max(ce,ae+(C?we:0)+T+V),Q=I+J;l.style.height=Q+"px"}else{const C=B.length>0&&b===B[0].ref.current;l.style.top="0px";const J=Math.max(oe,H+f.offsetTop+(C?Se:0)+ae)+D;l.style.height=J+"px",f.scrollTop=I-oe+f.offsetTop}l.style.margin=`${L}px 0`,l.style.minHeight=be+"px",l.style.maxHeight=F+"px",i==null||i(),requestAnimationFrame(()=>y.current=!0)}},[S,d.trigger,d.valueNode,l,u,f,b,g,d.dir,i]);q(()=>m(),[m]);const[_,M]=r.useState();q(()=>{u&&M(window.getComputedStyle(u).zIndex)},[u]);const se=r.useCallback(E=>{E&&w.current===!0&&(m(),p==null||p(),w.current=!1)},[m,p]);return t.jsx(Io,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:se,children:t.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(R.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});st.displayName=To;var jo="SelectPopperPosition",je=r.forwardRef((e,o)=>{const{__scopeSelect:n,align:i="start",collisionPadding:s=L,...d}=e,a=ge(n);return t.jsx(Gt,{...a,...d,ref:o,align:i,collisionPadding:s,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});je.displayName=jo;var[Io,Ee]=re(te,{}),Ie="SelectViewport",at=r.forwardRef((e,o)=>{const{__scopeSelect:n,nonce:i,...s}=e,d=X(Ie,n),a=Ee(Ie,n),l=A(o,d.onViewportChange),c=r.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),t.jsx(me.Slot,{scope:n,children:t.jsx(R.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:N(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=a;if(S!=null&&S.current&&v){const y=Math.abs(c.current-h.scrollTop);if(y>0){const w=window.innerHeight-L*2,f=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),g=Math.max(f,b);if(g<w){const p=g+y,m=Math.min(w,p),_=p-m;v.style.height=m+"px",v.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,v.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});at.displayName=Ie;var it="SelectGroup",[No,Ro]=re(it),Po=r.forwardRef((e,o)=>{const{__scopeSelect:n,...i}=e,s=fe();return t.jsx(No,{scope:n,id:s,children:t.jsx(R.div,{role:"group","aria-labelledby":s,...i,ref:o})})});Po.displayName=it;var lt="SelectLabel",_o=r.forwardRef((e,o)=>{const{__scopeSelect:n,...i}=e,s=Ro(lt,n);return t.jsx(R.div,{id:s.id,...i,ref:o})});_o.displayName=lt;var pe="SelectItem",[Eo,ct]=re(pe),dt=r.forwardRef((e,o)=>{const{__scopeSelect:n,value:i,disabled:s=!1,textValue:d,...a}=e,l=Y(pe,n),c=X(pe,n),u=l.value===i,[h,v]=r.useState(d??""),[S,y]=r.useState(!1),w=A(o,p=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,p,i,s)}),f=fe(),b=r.useRef("touch"),g=()=>{s||(l.onValueChange(i),l.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Eo,{scope:n,value:i,disabled:s,textId:f,isSelected:u,onItemTextChange:r.useCallback(p=>{v(m=>m||((p==null?void 0:p.textContent)??"").trim())},[]),children:t.jsx(me.ItemSlot,{scope:n,value:i,disabled:s,textValue:h,children:t.jsx(R.div,{role:"option","aria-labelledby":f,"data-highlighted":S?"":void 0,"aria-selected":u&&S,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:w,onFocus:N(a.onFocus,()=>y(!0)),onBlur:N(a.onBlur,()=>y(!1)),onClick:N(a.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:N(a.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:N(a.onPointerDown,p=>{b.current=p.pointerType}),onPointerMove:N(a.onPointerMove,p=>{var m;b.current=p.pointerType,s?(m=c.onItemLeave)==null||m.call(c):b.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(a.onPointerLeave,p=>{var m;p.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:N(a.onKeyDown,p=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&p.key===" "||(mo.includes(p.key)&&g(),p.key===" "&&p.preventDefault())})})})})});dt.displayName=pe;var ie="SelectItemText",ut=r.forwardRef((e,o)=>{const{__scopeSelect:n,className:i,style:s,...d}=e,a=Y(ie,n),l=X(ie,n),c=ct(ie,n),u=bo(ie,n),[h,v]=r.useState(null),S=A(o,g=>v(g),c.onItemTextChange,g=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,g,c.value,c.disabled)}),y=h==null?void 0:h.textContent,w=r.useMemo(()=>t.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:f,onNativeOptionRemove:b}=u;return q(()=>(f(w),()=>b(w)),[f,b,w]),t.jsxs(t.Fragment,{children:[t.jsx(R.span,{id:c.textId,...d,ref:S}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ue.createPortal(d.children,a.valueNode):null]})});ut.displayName=ie;var pt="SelectItemIndicator",ft=r.forwardRef((e,o)=>{const{__scopeSelect:n,...i}=e;return ct(pt,n).isSelected?t.jsx(R.span,{"aria-hidden":!0,...i,ref:o}):null});ft.displayName=pt;var Ne="SelectScrollUpButton",ht=r.forwardRef((e,o)=>{const n=X(Ne,e.__scopeSelect),i=Ee(Ne,e.__scopeSelect),[s,d]=r.useState(!1),a=A(o,i.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;d(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(vt,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ht.displayName=Ne;var Re="SelectScrollDownButton",mt=r.forwardRef((e,o)=>{const n=X(Re,e.__scopeSelect),i=Ee(Re,e.__scopeSelect),[s,d]=r.useState(!1),a=A(o,i.onScrollButtonChange);return q(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;d(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?t.jsx(vt,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});mt.displayName=Re;var vt=r.forwardRef((e,o)=>{const{__scopeSelect:n,onAutoScroll:i,...s}=e,d=X("SelectScrollButton",n),a=r.useRef(null),l=ve(n),c=r.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return r.useEffect(()=>()=>c(),[c]),q(()=>{var h;const u=l().find(v=>v.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),t.jsx(R.div,{"aria-hidden":!0,...s,ref:o,style:{flexShrink:0,...s.style},onPointerDown:N(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(i,50))}),onPointerMove:N(s.onPointerMove,()=>{var u;(u=d.onItemLeave)==null||u.call(d),a.current===null&&(a.current=window.setInterval(i,50))}),onPointerLeave:N(s.onPointerLeave,()=>{c()})})}),ko="SelectSeparator",Mo=r.forwardRef((e,o)=>{const{__scopeSelect:n,...i}=e;return t.jsx(R.div,{"aria-hidden":!0,...i,ref:o})});Mo.displayName=ko;var Pe="SelectArrow",Do=r.forwardRef((e,o)=>{const{__scopeSelect:n,...i}=e,s=ge(n),d=Y(Pe,n),a=X(Pe,n);return d.open&&a.position==="popper"?t.jsx(qt,{...s,...i,ref:o}):null});Do.displayName=Pe;var Ao="SelectBubbleInput",gt=r.forwardRef(({__scopeSelect:e,value:o,...n},i)=>{const s=r.useRef(null),d=A(i,s),a=$e(o);return r.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==o&&h){const v=new Event("change",{bubbles:!0});h.call(l,o),l.dispatchEvent(v)}},[a,o]),t.jsx(R.select,{...n,style:{...Bt,...n.style},ref:d,defaultValue:o})});gt.displayName=Ao;function xt(e){return e===""||e===void 0}function bt(e){const o=Ft(e),n=r.useRef(""),i=r.useRef(0),s=r.useCallback(a=>{const l=n.current+a;o(l),function c(u){n.current=u,window.clearTimeout(i.current),u!==""&&(i.current=window.setTimeout(()=>c(""),1e3))}(l)},[o]),d=r.useCallback(()=>{n.current="",window.clearTimeout(i.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),[n,s,d]}function St(e,o,n){const s=o.length>1&&Array.from(o).every(u=>u===o[0])?o[0]:o,d=n?e.indexOf(n):-1;let a=Lo(e,Math.max(d,0));s.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Lo(e,o){return e.map((n,i)=>e[(o+i)%e.length])}var Oo=Ye,Vo=Ze,Bo=Qe,Fo=et,Uo=tt,Ho=ot,$o=at,zo=dt,Wo=ut,Ko=ft,Go=ht,qo=mt;function Yo({...e}){return t.jsx(Oo,{"data-slot":"select",...e})}function Xo({...e}){return t.jsx(Bo,{"data-slot":"select-value",...e})}function Zo({className:e,size:o="default",children:n,...i}){return t.jsxs(Vo,{"data-slot":"select-trigger","data-size":o,className:P("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[n,t.jsx(Fo,{asChild:!0,children:t.jsx(Fe,{className:"size-4 opacity-50"})})]})}function Jo({className:e,children:o,position:n="popper",...i}){return t.jsx(Uo,{children:t.jsxs(Ho,{"data-slot":"select-content",className:P("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...i,children:[t.jsx(en,{}),t.jsx($o,{className:P("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:o}),t.jsx(tn,{})]})})}function Qo({className:e,children:o,...n}){return t.jsxs(zo,{"data-slot":"select-item",className:P("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:t.jsx(Ko,{children:t.jsx(to,{className:"size-4"})})}),t.jsx(Wo,{children:o})]})}function en({className:e,...o}){return t.jsx(Go,{"data-slot":"select-scroll-up-button",className:P("flex cursor-default items-center justify-center py-1",e),...o,children:t.jsx(Qt,{className:"size-4"})})}function tn({className:e,...o}){return t.jsx(qo,{"data-slot":"select-scroll-down-button",className:P("flex cursor-default items-center justify-center py-1",e),...o,children:t.jsx(Fe,{className:"size-4"})})}var xe="Tabs",[on,Cn]=_e(xe,[Be]),wt=Be(),[nn,ke]=on(xe),yt=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:i,onValueChange:s,defaultValue:d,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Ve(l),[v,S]=ue({prop:i,onChange:s,defaultProp:d??"",caller:xe});return t.jsx(nn,{scope:n,baseId:fe(),value:v,onValueChange:S,orientation:a,dir:h,activationMode:c,children:t.jsx(R.div,{dir:h,"data-orientation":a,...u,ref:o})})});yt.displayName=xe;var Ct="TabsList",Tt=r.forwardRef((e,o)=>{const{__scopeTabs:n,loop:i=!0,...s}=e,d=ke(Ct,n),a=wt(n);return t.jsx(Yt,{asChild:!0,...a,orientation:d.orientation,dir:d.dir,loop:i,children:t.jsx(R.div,{role:"tablist","aria-orientation":d.orientation,...s,ref:o})})});Tt.displayName=Ct;var jt="TabsTrigger",It=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:i,disabled:s=!1,...d}=e,a=ke(jt,n),l=wt(n),c=Pt(a.baseId,i),u=_t(a.baseId,i),h=i===a.value;return t.jsx(Xt,{asChild:!0,...l,focusable:!s,active:h,children:t.jsx(R.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...d,ref:o,onMouseDown:N(e.onMouseDown,v=>{!s&&v.button===0&&v.ctrlKey===!1?a.onValueChange(i):v.preventDefault()}),onKeyDown:N(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&a.onValueChange(i)}),onFocus:N(e.onFocus,()=>{const v=a.activationMode!=="manual";!h&&!s&&v&&a.onValueChange(i)})})})});It.displayName=jt;var Nt="TabsContent",Rt=r.forwardRef((e,o)=>{const{__scopeTabs:n,value:i,forceMount:s,children:d,...a}=e,l=ke(Nt,n),c=Pt(l.baseId,i),u=_t(l.baseId,i),h=i===l.value,v=r.useRef(h);return r.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),t.jsx(Zt,{present:s||h,children:({present:S})=>t.jsx(R.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!S,id:u,tabIndex:0,...a,ref:o,style:{...e.style,animationDuration:v.current?"0s":void 0},children:S&&d})})});Rt.displayName=Nt;function Pt(e,o){return`${e}-trigger-${o}`}function _t(e,o){return`${e}-content-${o}`}var rn=yt,sn=Tt,an=It,ln=Rt;function cn({className:e,...o}){return t.jsx(rn,{"data-slot":"tabs",className:P("flex flex-col gap-2",e),...o})}function dn({className:e,...o}){return t.jsx(sn,{"data-slot":"tabs-list",className:P("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...o})}function De({className:e,...o}){return t.jsx(an,{"data-slot":"tabs-trigger",className:P("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o})}function Ae({className:e,...o}){return t.jsx(ln,{"data-slot":"tabs-content",className:P("flex-1 outline-none",e),...o})}function un({className:e,...o}){return t.jsx("div",{"data-slot":"card",className:P("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...o})}function pn({className:e,...o}){return t.jsx("div",{"data-slot":"card-header",className:P("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...o})}function fn({className:e,...o}){return t.jsx("div",{"data-slot":"card-title",className:P("leading-none font-semibold",e),...o})}function hn({className:e,...o}){return t.jsx("div",{"data-slot":"card-content",className:P("px-6",e),...o})}function mn({className:e,...o}){return t.jsx("div",{"data-slot":"card-footer",className:P("flex items-center px-6 [.border-t]:pt-6",e),...o})}function Tn({customAgent:e,chat:o}){var w,f,b;const[n,i]=r.useState(e.isPublic),[s,d]=r.useState(((w=e==null?void 0:e.mcpServers)==null?void 0:w.map(g=>g.url))||[""]),[a,l]=r.useState((e==null?void 0:e.baseAgent)||o.currentAgent),c=r.useRef(null),u=Et(),h=r.useRef(null),v=()=>{if(c.current){const g=new FormData(c.current);h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{console.log("Auto-saving form..."),u(g,{action:`/chat/${o.id}/agent/${e.id}/edit`,method:"put"})},1e3)}};r.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);const S=(g,p)=>{const m=[...s];m[g]=p,d(m),setTimeout(v,0)},y=r.useMemo(()=>s[s.length-1]!=="",[s]);return t.jsx(un,{children:t.jsxs(kt,{action:`/chat/${o.id}/agent/${e.id}/edit`,method:"post",ref:c,onChange:v,children:[t.jsx(pn,{children:t.jsx(fn,{children:"Agent Configuration"})}),t.jsx(hn,{className:"space-y-6 mt-6",children:t.jsxs(cn,{defaultValue:"local",className:"w-full",children:[t.jsxs(dn,{className:"mb-4",children:[t.jsx(De,{value:"local",children:"Local"}),t.jsx(De,{value:"remote",children:"Remote"})]}),t.jsxs(Ae,{value:"local",className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"name",children:"Name"}),t.jsx(ne,{id:"name",name:"name",placeholder:"Agent name",defaultValue:e.name})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"description",children:"Description"}),t.jsx(ne,{id:"description",name:"description",placeholder:"Brief description of the agent",defaultValue:e.description})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"icon",children:"Icon"}),t.jsx(ne,{id:"icon",name:"icon",placeholder:"Icon URL or path",defaultValue:(f=e.icons)==null?void 0:f.light})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"darkIcon",children:"Dark Icon"}),t.jsx(ne,{id:"darkIcon",name:"darkIcon",placeholder:"Dark mode icon URL or path",defaultValue:(b=e.icons)==null?void 0:b.dark})]}),Object.keys(o.agents||{}).length>1&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"model",children:"Model"}),t.jsxs(Yo,{value:a,onValueChange:g=>{l(g),setTimeout(v,0)},children:[t.jsx(Zo,{children:t.jsx(Xo,{placeholder:"Select a model"})}),t.jsx(Jo,{children:Object.entries(o.agents??{}).map(([g,p])=>t.jsx(Qo,{value:g,children:p.name||g},g))})]}),t.jsx("input",{type:"hidden",name:"model",value:a})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"instructions",children:"Instructions"}),t.jsx(Jt,{defaultValue:e.instructions,id:"instructions",name:"instructions",placeholder:"Enter the system prompt",className:"min-h-[100px]"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(fo,{id:"visibility",checked:n,onCheckedChange:g=>{i(g),setTimeout(v,0)}}),t.jsx(z,{htmlFor:"visibility",children:"Make this agent public"}),t.jsx("input",{type:"hidden",name:"isPublic",value:n?"true":"false"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{children:"MCP Server URLs"}),s.map((g,p)=>t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(ne,{placeholder:"Enter MCP server URL",value:g,name:`serverUrls[${p}]`,onChange:m=>S(p,m.target.value)}),t.jsx(de,{type:"button",variant:"ghost",className:"px-2 h-10",onClick:()=>{const m=s.filter((_,M)=>M!==p);d(m.length?m:[""])},children:t.jsx(no,{className:"h-4 w-4"})})]},p)),y&&t.jsx(de,{type:"button",variant:"outline",onClick:()=>d([...s,""]),children:"Add Another URL"})]})]}),t.jsx(Ae,{value:"remote",className:"space-y-6",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(z,{htmlFor:"remoteUrl",children:"Remote URL"}),t.jsx(ne,{id:"remoteUrl",name:"remoteUrl",placeholder:"Enter remote URL",defaultValue:e.remoteUrl||""})]})})]})}),t.jsxs(mn,{className:"flex justify-end space-x-2",children:[t.jsx(Mt,{to:`/agent/${e.id}`,children:t.jsx(de,{variant:"outline",children:"Close"})}),t.jsx(de,{type:"submit",disabled:!e.id,children:"Save"})]})]})})}export{Tn as A};
