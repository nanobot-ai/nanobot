import"../chunks/DsnmJJEf.js";import{p as Re,d as We,f as ye,an as et,a2 as tt,g as c,c as He,ap as at,aq as Ce,s as n,l as s,i as e,m as a,t as W,j as be,O as z,ar as we,k as p,ao as Y,a8 as r,as as Dt}from"../chunks/DO59wc33.js";import{s as st,r as ot,i as D,a as Mt,b as qt}from"../chunks/ik-EZS2y.js";import{w as $e,P as St,B as vt,L as _t,p as Yt}from"../chunks/ByRzogd4.js";import{g as pt}from"../chunks/D7RuEkZb.js";import{r as mt}from"../chunks/jJgo0auY.js";import{I as nt,e as Pe,s as I,b as Le,r as je,c as Xe,d as Ft,X as Be,f as Se}from"../chunks/DWFGZehV.js";import{h as jt,d as Xt}from"../chunks/DYffSaQ-.js";function ut(b,t){Re(t,!0);/**
 * @license @lucide/svelte v0.540.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let o=ot(t,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];nt(b,st({name:"pencil"},()=>o,{get iconNode(){return l},children:(h,B)=>{var C=We(),ne=ye(C);et(ne,()=>t.children??tt),c(h,C)},$$slots:{default:!0}})),He()}function bt(b,t){Re(t,!0);/**
 * @license @lucide/svelte v0.540.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let o=ot(t,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];nt(b,st({name:"trash"},()=>o,{get iconNode(){return l},children:(h,B)=>{var C=We(),ne=ye(C);et(ne,()=>t.children??tt),c(h,C)},$$slots:{default:!0}})),He()}function ft(b,t){Re(t,!0);/**
 * @license @lucide/svelte v0.540.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let o=ot(t,["$$slots","$$events","$$legacy"]);const l=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z"}]];nt(b,st({name:"wrench"},()=>o,{get iconNode(){return l},children:(h,B)=>{var C=We(),ne=ye(C);et(ne,()=>t.children??tt),c(h,C)},$$slots:{default:!0}})),He()}var Wt=Ce('<text text-anchor="middle" class="fill-base-content text-sm font-medium" dominant-baseline="middle"> </text>'),Bt=Ce('<g><path stroke="#6b7280" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path><!></g>'),Rt=(b,t,o)=>t.onNodeClick(e(o)),Ht=(b,t,o)=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),t.onNodeClick(e(o)))},zt=Ce('<polygon></polygon><text text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-sm font-medium"> </text>',1),Lt=Ce('<rect width="150" height="60" rx="30" ry="30"></rect><text text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-sm font-medium"> </text>',1),Ot=Ce('<rect width="150" height="60" rx="4" ry="4"></rect><text text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-sm font-medium"> </text>',1),Vt=Ce('<circle r="12" fill="#10b981"></circle><text text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-xs font-bold">✓</text>',1),Gt=Ce('<circle cx="0" cy="0" r="8" fill="#f59e0b"></circle><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-[10px] font-bold">T</text>',1),Kt=Ce('<circle cx="18" cy="0" r="8" fill="#3b82f6"></circle><text x="18" y="0" text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-[10px] font-bold">A</text>',1),Qt=Ce('<circle cx="36" cy="0" r="8" fill="#8b5cf6"></circle><text x="36" y="0" text-anchor="middle" dominant-baseline="middle" class="pointer-events-none fill-white text-[10px] font-bold">K</text>',1),Ut=Ce("<g><!><!><!></g>"),Jt=Ce('<g role="button" class="cursor-pointer transition-opacity hover:opacity-80" tabindex="0"><!><!><!></g>'),Zt=Ce('<svg><defs><marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto"><polygon points="0 0, 10 3, 0 6" fill="#6b7280"></polygon></marker></defs><!><!></svg>');function $t(b,t){Re(t,!0);const o=be(()=>()=>{const _=t.flowchart.nodes;if(_.length===0)return{minX:0,minY:0,width:800,height:600};const i=Math.min(..._.map(f=>f.position.x))-50,y=Math.min(..._.map(f=>f.position.y))-50,m=Math.max(..._.map(f=>f.position.x))+200,T=Math.max(..._.map(f=>f.position.y))+100;return{minX:i,minY:y,width:m-i,height:T-y}});function l(_){switch(_.type){case"start":case"end":return"rounded";case"decision":return"diamond";case"process":default:return"rectangle"}}function h(_){if(_.completed)return"#10b981";switch(_.type){case"start":return"#3b82f6";case"end":return"#8b5cf6";case"decision":return"#f59e0b";case"process":default:return"#6b7280"}}function B(_){const i=t.flowchart.nodes.find(f=>f.id===_.source),y=t.flowchart.nodes.find(f=>f.id===_.target);if(!i||!y)return"";const m=C(i,y),T=C(y,i);return`M ${m.x} ${m.y} L ${T.x} ${T.y}`}function C(_,i){const m=_.type==="decision"?80:60,T=_.position.x+150/2,f=_.position.y+m/2,x=i.position.x+75-T,R=i.position.y+30-f,F=Math.atan2(R,x)*(180/Math.PI);return F>=-45&&F<45?{x:_.position.x+150,y:f}:F>=45&&F<135?{x:T,y:_.position.y+m}:F>=135||F<-135?{x:_.position.x,y:f}:{x:T,y:_.position.y}}function ne(_){if(!_.label)return null;const i=t.flowchart.nodes.find(f=>f.id===_.source),y=t.flowchart.nodes.find(f=>f.id===_.target);if(!i||!y)return null;const m=C(i,y),T=C(y,i);return{x:(m.x+T.x)/2,y:(m.y+T.y)/2}}var de=Zt(),ie=n(s(de));Pe(ie,17,()=>t.flowchart.edges,_=>_.id,(_,i)=>{var y=Bt(),m=s(y),T=n(m);{var f=x=>{const R=be(()=>ne(e(i)));var F=We(),M=ye(F);{var Q=re=>{var ce=Wt(),Ne=s(ce,!0);a(ce),W(()=>{I(ce,"x",e(R).x),I(ce,"y",e(R).y),z(Ne,e(i).label)}),c(re,ce)};D(M,re=>{e(R)&&re(Q)})}c(x,F)};D(T,x=>{e(i).label&&x(f)})}a(y),W(x=>I(m,"d",x),[()=>B(e(i))]),c(_,y)});var xe=n(ie);Pe(xe,17,()=>t.flowchart.nodes,_=>_.id,(_,i)=>{const y=be(()=>l(e(i))),m=be(()=>h(e(i))),T=be(()=>t.selectedNodeId===e(i).id),f=be(()=>e(i).tools&&e(i).tools.length>0||e(i).agents&&e(i).agents.length>0||e(i).tasks&&e(i).tasks.length>0);var x=Jt();x.__click=[Rt,t,i],x.__keydown=[Ht,t,i];var R=s(x);{var F=O=>{var U=zt(),L=ye(U),V=n(L),fe=s(V,!0);a(V),W(()=>{I(L,"points",`${e(i).position.x+75},
${e(i).position.y??""}
${e(i).position.x+150},${e(i).position.y+40}
${e(i).position.x+75},${e(i).position.y+80}
${e(i).position.x??""},${e(i).position.y+40}`),I(L,"fill",e(m)),I(L,"stroke",e(T)?"#000":e(m)),I(L,"stroke-width",e(T)?"3":"1"),I(L,"opacity",e(i).completed?"0.7":"1"),I(V,"x",e(i).position.x+75),I(V,"y",e(i).position.y+40),z(fe,e(i).label)}),c(O,U)},M=O=>{var U=We(),L=ye(U);{var V=ue=>{var ge=Lt(),S=ye(ge),E=n(S),ve=s(E,!0);a(E),W(()=>{I(S,"x",e(i).position.x),I(S,"y",e(i).position.y),I(S,"fill",e(m)),I(S,"stroke",e(T)?"#000":e(m)),I(S,"stroke-width",e(T)?"3":"1"),I(S,"opacity",e(i).completed?"0.7":"1"),I(E,"x",e(i).position.x+75),I(E,"y",e(i).position.y+30),z(ve,e(i).label)}),c(ue,ge)},fe=ue=>{var ge=Ot(),S=ye(ge),E=n(S),ve=s(E,!0);a(E),W(()=>{I(S,"x",e(i).position.x),I(S,"y",e(i).position.y),I(S,"fill",e(m)),I(S,"stroke",e(T)?"#000":e(m)),I(S,"stroke-width",e(T)?"3":"1"),I(S,"opacity",e(i).completed?"0.7":"1"),I(E,"x",e(i).position.x+75),I(E,"y",e(i).position.y+30),z(ve,e(i).label)}),c(ue,ge)};D(L,ue=>{e(y)==="rounded"?ue(V):ue(fe,!1)},!0)}c(O,U)};D(R,O=>{e(y)==="diamond"?O(F):O(M,!1)})}var Q=n(R);{var re=O=>{var U=Vt(),L=ye(U),V=n(L);W(()=>{I(L,"cx",e(i).position.x+140),I(L,"cy",e(i).position.y+10),I(V,"x",e(i).position.x+140),I(V,"y",e(i).position.y+10)}),c(O,U)};D(Q,O=>{e(i).completed&&O(re)})}var ce=n(Q);{var Ne=O=>{var U=Ut(),L=s(U);{var V=E=>{var ve=Gt();we(),c(E,ve)};D(L,E=>{e(i).tools&&e(i).tools.length>0&&E(V)})}var fe=n(L);{var ue=E=>{var ve=Kt();we(),c(E,ve)};D(fe,E=>{e(i).agents&&e(i).agents.length>0&&E(ue)})}var ge=n(fe);{var S=E=>{var ve=Qt();we(),c(E,ve)};D(ge,E=>{e(i).tasks&&e(i).tasks.length>0&&E(S)})}a(U),W(()=>I(U,"transform",`translate(${e(i).position.x+5}, ${e(i).position.y+5})`)),c(O,U)};D(ce,O=>{e(f)&&O(Ne)})}a(x),c(_,x)}),a(de),W((_,i,y,m,T,f)=>{I(de,"viewBox",`${_??""} ${i??""} ${y??""} ${m??""}`),I(de,"width",T),I(de,"height",f)},[()=>e(o)().minX,()=>e(o)().minY,()=>e(o)().width,()=>e(o)().height,()=>e(o)().width,()=>e(o)().height]),c(b,de),He()}at(["click","keydown"]);async function ea(b,t,o,l,h){e(t).trim()&&(await o.addNodeAssignment(l.taskId,l.selectedNode.id,"agents",e(t).trim()),r(t,""),r(h,!1))}async function ta(b,t,o,l,h){e(t).trim()&&(await o.addNodeAssignment(l.taskId,l.selectedNode.id,"tasks",e(t).trim()),r(t,""),r(h,!1))}function aa(b,t,o,l,h,B){r(t,!0),r(o,null),r(l,""),r(h,""),r(B,!0)}async function sa(b,t,o,l,h,B,C,ne){e(t).trim()&&(e(o)?await l.updateNodeInput(h.taskId,h.selectedNode.id,e(o),{name:e(t).trim(),description:e(B).trim(),required:e(C)}):await l.addNodeInput(h.taskId,h.selectedNode.id,e(t).trim(),e(B).trim(),e(C)),ne())}function oa(b,t,o,l,h){r(t,!0),r(o,!1),r(l,"simple"),h()}function na(b,t,o,l,h,B,C,ne,de,ie,xe,_){if(!e(t))return;const i=e(t).edges.filter(m=>m.source===o.selectedNode.id);if(i.some(m=>m.label==="Yes"||m.label==="No")){r(l,"decision");const m=i.find(f=>f.label==="Yes"),T=i.find(f=>f.label==="No");r(h,m?.target||"",!0),r(B,T?.target||"",!0),r(C,!1),r(ne,!1)}else r(l,"simple"),r(de,i[0]?.target||"",!0),r(ie,!1);r(xe,!0),r(_,!0)}function ia(b,t,o,l){r(t,!1),r(o,!1),l()}async function ra(b,t,o,l,h,B,C,ne,de,ie,xe,_,i,y,m,T,f,x,R,F){if(e(t))try{if(e(o)){const M=e(t).edges.filter(Q=>Q.source===l.selectedNode.id);for(const Q of M)await h.deleteEdge(l.taskId,Q.id)}if(e(B)==="simple"){let M=e(C);e(ne)&&e(de).trim()&&(M=await h.createNode(l.taskId,e(ie),e(de).trim(),"# "+e(de).trim(),l.selectedNode.id)),M&&await h.addEdge(l.taskId,l.selectedNode.id,M)}else{let M=e(xe),Q=e(_);e(i)&&e(y).trim()&&(M=await h.createNode(l.taskId,e(m),e(y).trim(),"# "+e(y).trim(),l.selectedNode.id)),e(T)&&e(f).trim()&&(Q=await h.createNode(l.taskId,e(x),e(f).trim(),"# "+e(f).trim(),l.selectedNode.id)),M&&await h.addEdge(l.taskId,l.selectedNode.id,M,"Yes"),Q&&await h.addEdge(l.taskId,l.selectedNode.id,Q,"No")}r(R,!1),r(o,!1),F()}catch(M){console.error("Failed to save edge:",M)}}var la=(b,t,o)=>t.toggleNodeCompletion(o.taskId,o.selectedNode.id),da=p("<button> </button>"),ca=p('<p class="mt-1 text-xs text-base-content/60"> </p>'),va=(b,t,o)=>t(e(o)),_a=(b,t,o,l)=>t.deleteNodeInput(o.taskId,o.selectedNode.id,e(l).id),ua=p('<div class="bg-base-50 rounded border border-base-200 p-3"><div class="mb-1 flex items-start justify-between gap-2"><div class="flex-1"><div class="flex items-center gap-2"><span class="text-sm font-medium"> </span> <span> </span></div> <!></div> <div class="flex gap-1"><button class="btn btn-square btn-ghost btn-xs" aria-label="Edit input"><!></button> <button class="btn btn-square btn-ghost btn-xs hover:text-error" aria-label="Delete input"><!></button></div></div></div>'),ba=p('<div class="space-y-2"></div>'),fa=p('<p class="text-sm text-base-content/60">No inputs defined</p>'),pa=p('<button class="btn mt-3 btn-block gap-1 btn-outline btn-sm"><!> Add Input</button>'),ma=p('<div class="bg-base-50 mt-3 space-y-3 rounded-lg border border-base-200 p-3"><div><label for="input-name" class="label"><span class="label-text text-xs">Name</span></label> <input id="input-name" type="text" placeholder="e.g., Project Name" class="input-bordered input input-sm w-full"/></div> <div><label for="input-description" class="label"><span class="label-text text-xs">Description</span></label> <textarea id="input-description" placeholder="Describe what this input is for..." class="textarea-bordered textarea w-full textarea-sm" rows="2"></textarea></div> <div class="flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-sm" id="input-required"/> <label for="input-required" class="label-text cursor-pointer text-xs">Required</label></div> <div class="flex gap-2"><button class="btn flex-1 btn-ghost btn-sm">Cancel</button> <button class="btn flex-1 btn-sm btn-primary"> </button></div></div>'),xa=p('<div class="rounded-lg border border-base-300 bg-base-100 p-4"><h3 class="mb-3 text-sm font-semibold text-base-content/70">Inputs</h3> <!> <!></div>'),ga=(b,t,o,l)=>t.removeNodeAssignment(o.taskId,o.selectedNode.id,"tools",l),ha=p('<span class="badge gap-1 badge-sm badge-warning"> <button class="hover:text-error" aria-label="Remove tool"><!></button></span>'),ka=p('<div><div class="mb-1 flex items-center gap-2 text-xs font-medium text-base-content/60"><!> <span>Tools</span></div> <div class="flex flex-wrap gap-1"></div></div>'),wa=(b,t,o,l)=>t.removeNodeAssignment(o.taskId,o.selectedNode.id,"agents",l),ya=p('<span class="badge gap-1 badge-sm badge-info"> <button class="hover:text-error" aria-label="Remove agent"><!></button></span>'),Na=p('<div><div class="mb-1 flex items-center gap-2 text-xs font-medium text-base-content/60"><!> <span>Agents</span></div> <div class="flex flex-wrap gap-1"></div></div>'),Ia=(b,t,o,l)=>t.removeNodeAssignment(o.taskId,o.selectedNode.id,"tasks",l),Ta=p('<span class="badge gap-1 badge-sm badge-secondary"> <button class="hover:text-error" aria-label="Remove task"><!></button></span>'),Ea=p('<div><div class="mb-1 flex items-center gap-2 text-xs font-medium text-base-content/60"><!> <span>Tasks</span></div> <div class="flex flex-wrap gap-1"></div></div>'),Aa=(b,t)=>r(t,!0),Pa=p('<button class="btn gap-1 btn-outline btn-xs btn-warning"><!> Add Tool</button>'),Ca=(b,t,o,l)=>{b.key==="Enter"&&t(),b.key==="Escape"&&(r(o,!1),r(l,""))},Da=(b,t,o)=>{r(t,!1),r(o,"")},Ma=p('<div class="flex w-full gap-2"><input type="text" placeholder="Tool name..." class="input-bordered input input-xs flex-1"/> <button class="btn btn-xs btn-warning">Add</button> <button class="btn btn-ghost btn-xs"><!></button></div>'),qa=(b,t)=>r(t,!0),Sa=p('<button class="btn gap-1 btn-outline btn-xs btn-info"><!> Add Agent</button>'),Ya=p("<option> </option>"),Fa=(b,t,o)=>{r(t,!1),r(o,"")},ja=p('<div class="flex w-full gap-2"><select class="select-bordered select flex-1 select-xs"><option>Select agent...</option><!></select> <button class="btn btn-ghost btn-xs"><!></button></div>'),Xa=(b,t)=>r(t,!0),Wa=p('<button class="btn gap-1 btn-outline btn-xs btn-secondary"><!> Add Task</button>'),Ba=p("<option> </option>"),Ra=(b,t,o)=>{r(t,!1),r(o,"")},Ha=p('<div class="flex w-full gap-2"><select class="select-bordered select flex-1 select-xs"><option>Select task...</option><!></select> <button class="btn btn-ghost btn-xs"><!></button></div>'),za=p('<div class="rounded-lg border border-base-300 bg-base-100 p-4"><h3 class="mb-3 text-sm font-semibold text-base-content/70">Using...</h3> <!> <!> <!> <div class="flex flex-wrap gap-2 border-t border-base-300 pt-3"><!> <!> <!></div></div>'),La=(b,t,o)=>t.onNavigateToNode(e(o)),Oa=p('<button class="btn btn-block justify-start btn-sm"><span class="font-normal text-base-content/60"> </span> <span class="font-medium"> </span></button>'),Va=async(b,t,o,l)=>{if(!e(t))return;const h=e(t).edges.filter(B=>B.source===o.selectedNode.id);for(const B of h)await l.deleteEdge(o.taskId,B.id)},Ga=p('<div class="space-y-2"></div> <div class="mt-3 flex gap-2"><button class="btn flex-1 btn-outline btn-sm"><!> Edit</button> <button class="btn flex-1 btn-outline btn-sm btn-error"><!> Delete</button></div>',1),Ka=p('<p class="mb-3 text-sm text-base-content/60">No next steps defined</p> <button class="btn btn-block gap-1 btn-outline btn-sm"><span>+</span> Add Next Step</button>',1),Qa=(b,t)=>r(t,"simple"),Ua=(b,t)=>r(t,"decision"),Ja=(b,t,o)=>r(t,e(o)==="new"),Za=p("<option> </option>"),$a=p('<div class="space-y-2 rounded border border-base-300 bg-base-100 p-2"><input type="text" placeholder="New node label..." class="input-bordered input input-sm w-full"/> <select class="select-bordered select w-full select-sm"><option>Process</option><option>Decision</option><option>End</option></select></div>'),es=p('<div class="space-y-2"><label for="simple-target-select" class="label"><span class="label-text">Next node:</span></label> <select id="simple-target-select" class="select-bordered select w-full select-sm"><option>Select a node...</option><!><option>+ Create New Node</option></select> <!></div>'),ts=(b,t,o)=>r(t,e(o)==="new"),as=p("<option> </option>"),ss=p('<div class="space-y-1"><input type="text" placeholder="New node label..." class="input-bordered input input-xs w-full"/> <select class="select-bordered select w-full select-xs"><option>Process</option><option>Decision</option><option>End</option></select></div>'),os=(b,t,o)=>r(t,e(o)==="new"),ns=p("<option> </option>"),is=p('<div class="space-y-1"><input type="text" placeholder="New node label..." class="input-bordered input input-xs w-full"/> <select class="select-bordered select w-full select-xs"><option>Process</option><option>Decision</option><option>End</option></select></div>'),rs=p('<div class="space-y-3"><div><label for="decision-condition-input" class="label"><span class="label-text text-xs font-medium">Condition/Question:</span></label> <input id="decision-condition-input" type="text" placeholder="e.g., Design approved?" class="input-bordered input input-sm w-full"/></div> <div class="space-y-2 rounded border border-success/30 bg-success/5 p-2"><label for="yes-target-select" class="label py-0"><span class="label-text text-xs font-medium text-success">Yes/True →</span></label> <select id="yes-target-select" class="select-bordered select w-full select-sm"><option>Select a node...</option><!><option>+ Create New Node</option></select> <!></div> <div class="space-y-2 rounded border border-error/30 bg-error/5 p-2"><label for="no-target-select" class="label py-0"><span class="label-text text-xs font-medium text-error">No/False →</span></label> <select id="no-target-select" class="select-bordered select w-full select-sm"><option>Select a node...</option><!><option>+ Create New Node</option></select> <!></div></div>'),ls=p('<div class="bg-base-50 mt-4 space-y-3 rounded-lg border border-base-200 p-3"><div class="flex gap-2"><button>Simple Next</button> <button>Decision</button></div> <!> <div class="flex gap-2"><button class="btn flex-1 btn-ghost btn-sm">Cancel</button> <button class="btn flex-1 btn-sm btn-primary"> </button></div></div>'),ds=p('<div class="space-y-4"><div class="flex items-start justify-between"><div><h2 class="text-lg font-semibold"> </h2> <span> </span></div> <!></div> <!> <div class="rounded-lg border border-base-300 bg-base-100 p-4"><h3 class="mb-3 text-sm font-semibold text-base-content/70">Do the following...</h3> <div class="prose prose-sm max-w-none"><!></div></div> <div class="rounded-lg border border-base-300 bg-base-100 p-4"><h3 class="mb-3 text-sm font-semibold text-base-content/70">Then...</h3> <!> <!></div></div>');function cs(b,t){Re(t,!0);const o=$e.getItemStore(t.workspaceId),l=be(()=>o.getTaskFlowchart(t.taskId)),h=be(()=>o.getItems("agent")),B=be(()=>o.getItems("task")),C=be(()=>e(l)?.nodes.filter(g=>g.type!=="start"&&g.id!==t.selectedNode.id)??[]);function ne(g){return o.items.find(G=>G.id===g&&G.type==="agent")?.title||g}function de(g){return o.items.find(G=>G.id===g&&G.type==="task")?.title||g}let ie=Y(""),xe=Y(""),_=Y(""),i=Y(!1),y=Y(!1),m=Y(!1),T=Y(!1),f=Y(null),x=Y(""),R=Y(""),F=Y(!0),M=Y(!1),Q=Y(!1),re=Y("simple"),ce=Y(""),Ne=Y(!1),O=Y(""),U=Y("process"),L=Y(""),V=Y(""),fe=Y(!1),ue=Y(""),ge=Y("process"),S=Y(""),E=Y(!1),ve=Y(""),Ie=Y("process");async function Oe(){e(ie).trim()&&(await o.addNodeAssignment(t.taskId,t.selectedNode.id,"tools",e(ie).trim()),r(ie,""),r(i,!1))}function xt(g){r(T,!0),r(f,g.id,!0),r(x,g.name,!0),r(R,g.description,!0),r(F,g.required,!0)}function it(){r(T,!1),r(f,null),r(x,""),r(R,""),r(F,!0)}function Ve(){r(ce,""),r(Ne,!1),r(O,""),r(U,"process"),r(L,""),r(V,""),r(fe,!1),r(ue,""),r(ge,"process"),r(S,""),r(E,!1),r(ve,""),r(Ie,"process")}function gt(g){return Xt(g)}var Ge=ds(),Ke=s(Ge),Qe=s(Ke),Ue=s(Qe),ht=s(Ue,!0);a(Ue);var Je=n(Ue,2),kt=s(Je,!0);a(Je),a(Qe);var wt=n(Qe,2);{var yt=g=>{var j=da();j.__click=[la,o,t];var G=s(j,!0);a(j),W(()=>{Le(j,1,`btn btn-sm ${t.selectedNode.completed?"btn-success":"btn-outline"}`),z(G,t.selectedNode.completed?"✓ Done":"Mark Done")}),c(g,j)};D(wt,g=>{t.selectedNode.type!=="start"&&t.selectedNode.type!=="end"&&g(yt)})}a(Ke);var rt=n(Ke,2);{var Nt=g=>{var j=xa(),G=n(s(j),2);{var Te=J=>{var X=ba();Pe(X,21,()=>t.selectedNode.inputs,ae=>ae.name,(ae,le)=>{var K=ua(),_e=s(K),Z=s(_e),$=s(Z),te=s($),se=s(te,!0);a(te);var u=n(te,2),v=s(u,!0);a(u),a($);var d=n($,2);{var q=N=>{var pe=ca(),Ee=s(pe,!0);a(pe),W(()=>z(Ee,e(le).description)),c(N,pe)};D(d,N=>{e(le).description&&N(q)})}a(Z);var A=n(Z,2),k=s(A);k.__click=[va,xt,le];var P=s(k);ut(P,{class:"h-3 w-3"}),a(k);var w=n(k,2);w.__click=[_a,o,t,le];var H=s(w);bt(H,{class:"h-3 w-3"}),a(w),a(A),a(_e),a(K),W(()=>{z(se,e(le).name),Le(u,1,`badge badge-xs ${e(le).required?"badge-error":"badge-ghost"}`),z(v,e(le).required?"Required":"Optional")}),c(ae,K)}),a(X),c(J,X)},he=J=>{var X=fa();c(J,X)};D(G,J=>{t.selectedNode.inputs&&t.selectedNode.inputs.length>0?J(Te):J(he,!1)})}var ke=n(G,2);{var Me=J=>{var X=pa();X.__click=[aa,T,f,x,R,F];var ae=s(X);St(ae,{class:"h-3 w-3"}),we(),a(X),c(J,X)},qe=J=>{var X=ma(),ae=s(X),le=n(s(ae),2);je(le),a(ae);var K=n(ae,2),_e=n(s(K),2);Dt(_e),a(K);var Z=n(K,2),$=s(Z);je($),we(2),a(Z);var te=n(Z,2),se=s(te);se.__click=it;var u=n(se,2);u.__click=[sa,x,f,o,t,R,F,it];var v=s(u,!0);a(u),a(te),a(X),W(d=>{u.disabled=d,z(v,e(f)?"Save Changes":"Add Input")},[()=>!e(x).trim()]),Xe(le,()=>e(x),d=>r(x,d)),Xe(_e,()=>e(R),d=>r(R,d)),Ft($,()=>e(F),d=>r(F,d)),c(J,X)};D(ke,J=>{e(T)?J(qe,!1):J(Me)})}a(j),c(g,j)},It=g=>{var j=za(),G=n(s(j),2);{var Te=u=>{var v=ka(),d=s(v),q=s(d);ft(q,{class:"h-3.5 w-3.5"}),we(2),a(d);var A=n(d,2);Pe(A,20,()=>t.selectedNode.tools,k=>k,(k,P)=>{var w=ha(),H=s(w),N=n(H);N.__click=[ga,o,t,P];var pe=s(N);Be(pe,{class:"h-3 w-3"}),a(N),a(w),W(()=>z(H,`${P??""} `)),c(k,w)}),a(A),a(v),c(u,v)};D(G,u=>{t.selectedNode.tools&&t.selectedNode.tools.length>0&&u(Te)})}var he=n(G,2);{var ke=u=>{var v=Na(),d=s(v),q=s(d);vt(q,{class:"h-3.5 w-3.5"}),we(2),a(d);var A=n(d,2);Pe(A,20,()=>t.selectedNode.agents,k=>k,(k,P)=>{var w=ya(),H=s(w),N=n(H);N.__click=[wa,o,t,P];var pe=s(N);Be(pe,{class:"h-3 w-3"}),a(N),a(w),W(Ee=>z(H,`${Ee??""} `),[()=>ne(P)]),c(k,w)}),a(A),a(v),c(u,v)};D(he,u=>{t.selectedNode.agents&&t.selectedNode.agents.length>0&&u(ke)})}var Me=n(he,2);{var qe=u=>{var v=Ea(),d=s(v),q=s(d);_t(q,{class:"h-3.5 w-3.5"}),we(2),a(d);var A=n(d,2);Pe(A,20,()=>t.selectedNode.tasks,k=>k,(k,P)=>{var w=Ta(),H=s(w),N=n(H);N.__click=[Ia,o,t,P];var pe=s(N);Be(pe,{class:"h-3 w-3"}),a(N),a(w),W(Ee=>z(H,`${Ee??""} `),[()=>de(P)]),c(k,w)}),a(A),a(v),c(u,v)};D(Me,u=>{t.selectedNode.tasks&&t.selectedNode.tasks.length>0&&u(qe)})}var J=n(Me,2),X=s(J);{var ae=u=>{var v=Pa();v.__click=[Aa,i];var d=s(v);ft(d,{class:"h-3 w-3"}),we(),a(v),c(u,v)},le=u=>{var v=Ma(),d=s(v);je(d),d.__keydown=[Ca,Oe,i,ie];var q=n(d,2);q.__click=Oe;var A=n(q,2);A.__click=[Da,i,ie];var k=s(A);Be(k,{class:"h-3 w-3"}),a(A),a(v),W(P=>q.disabled=P,[()=>!e(ie).trim()]),Xe(d,()=>e(ie),P=>r(ie,P)),c(u,v)};D(X,u=>{e(i)?u(le,!1):u(ae)})}var K=n(X,2);{var _e=u=>{var v=Sa();v.__click=[qa,y];var d=s(v);vt(d,{class:"h-3 w-3"}),we(),a(v),c(u,v)},Z=u=>{var v=ja(),d=s(v);d.__change=[ea,xe,o,t,y];var q=s(d);q.value=q.__value="";var A=n(q);Pe(A,17,()=>e(h),w=>w.id,(w,H)=>{var N=Ya(),pe=s(N,!0);a(N);var Ee={};W(()=>{z(pe,e(H).title),Ee!==(Ee=e(H).id)&&(N.value=(N.__value=e(H).id)??"")}),c(w,N)}),a(d);var k=n(d,2);k.__click=[Fa,y,xe];var P=s(k);Be(P,{class:"h-3 w-3"}),a(k),a(v),Se(d,()=>e(xe),w=>r(xe,w)),c(u,v)};D(K,u=>{e(y)?u(Z,!1):u(_e)})}var $=n(K,2);{var te=u=>{var v=Wa();v.__click=[Xa,m];var d=s(v);_t(d,{class:"h-3 w-3"}),we(),a(v),c(u,v)},se=u=>{var v=Ha(),d=s(v);d.__change=[ta,_,o,t,m];var q=s(d);q.value=q.__value="";var A=n(q);Pe(A,17,()=>e(B),w=>w.id,(w,H)=>{var N=Ba(),pe=s(N,!0);a(N);var Ee={};W(()=>{z(pe,e(H).title),Ee!==(Ee=e(H).id)&&(N.value=(N.__value=e(H).id)??"")}),c(w,N)}),a(d);var k=n(d,2);k.__click=[Ra,m,_];var P=s(k);Be(P,{class:"h-3 w-3"}),a(k),a(v),Se(d,()=>e(_),w=>r(_,w)),c(u,v)};D($,u=>{e(m)?u(se,!1):u(te)})}a(J),a(j),c(g,j)};D(rt,g=>{t.selectedNode.type==="start"?g(Nt):g(It,!1)})}var Ze=n(rt,2),lt=n(s(Ze),2),Tt=s(lt);jt(Tt,()=>gt(t.selectedNode.content)),a(lt),a(Ze);var dt=n(Ze,2),ct=n(s(dt),2);{var Et=g=>{const j=be(()=>e(l).edges.filter(X=>X.source===t.selectedNode.id));var G=Ga(),Te=ye(G);Pe(Te,21,()=>e(j),X=>X.id,(X,ae)=>{const le=be(()=>e(l).nodes.find($=>$.id===e(ae).target));var K=We(),_e=ye(K);{var Z=$=>{var te=Oa();te.__click=[La,t,le];var se=s(te),u=s(se);a(se);var v=n(se,2),d=s(v,!0);a(v),a(te),W(()=>{z(u,`${e(ae).label||"Go to"}:`),z(d,e(le).label)}),c($,te)};D(_e,$=>{e(le)&&$(Z)})}c(X,K)}),a(Te);var he=n(Te,2),ke=s(he);ke.__click=[na,l,t,re,V,S,fe,E,ce,Ne,M,Q];var Me=s(ke);ut(Me,{class:"h-3 w-3"}),we(),a(ke);var qe=n(ke,2);qe.__click=[Va,l,t,o];var J=s(qe);bt(J,{class:"h-3 w-3"}),we(),a(qe),a(he),c(g,G)},At=g=>{var j=We(),G=ye(j);{var Te=he=>{var ke=Ka(),Me=n(ye(ke),2);Me.__click=[oa,M,Q,re,Ve],c(he,ke)};D(G,he=>{e(M)||he(Te)},!0)}c(g,j)};D(ct,g=>{!e(M)&&e(l)&&e(l).edges.filter(j=>j.source===t.selectedNode.id).length>0?g(Et):g(At,!1)})}var Pt=n(ct,2);{var Ct=g=>{var j=ls(),G=s(j),Te=s(G);Te.__click=[Qa,re];var he=n(Te,2);he.__click=[Ua,re],a(G);var ke=n(G,2);{var Me=K=>{var _e=es(),Z=n(s(_e),2);Z.__change=[Ja,Ne,ce];var $=s(Z);$.value=$.__value="";var te=n($);Pe(te,17,()=>e(C),d=>d.id,(d,q)=>{var A=Za(),k=s(A,!0);a(A);var P={};W(()=>{z(k,e(q).label),P!==(P=e(q).id)&&(A.value=(A.__value=e(q).id)??"")}),c(d,A)});var se=n(te);se.value=se.__value="new",a(Z);var u=n(Z,2);{var v=d=>{var q=$a(),A=s(q);je(A);var k=n(A,2),P=s(k);P.value=P.__value="process";var w=n(P);w.value=w.__value="decision";var H=n(w);H.value=H.__value="end",a(k),a(q),Xe(A,()=>e(O),N=>r(O,N)),Se(k,()=>e(U),N=>r(U,N)),c(d,q)};D(u,d=>{e(Ne)&&d(v)})}a(_e),Se(Z,()=>e(ce),d=>r(ce,d)),c(K,_e)},qe=K=>{var _e=rs(),Z=s(_e),$=n(s(Z),2);je($),a(Z);var te=n(Z,2),se=n(s(te),2);se.__change=[ts,fe,V];var u=s(se);u.value=u.__value="";var v=n(u);Pe(v,17,()=>e(C),ee=>ee.id,(ee,me)=>{var oe=as(),De=s(oe,!0);a(oe);var Ae={};W(()=>{z(De,e(me).label),Ae!==(Ae=e(me).id)&&(oe.value=(oe.__value=e(me).id)??"")}),c(ee,oe)});var d=n(v);d.value=d.__value="new",a(se);var q=n(se,2);{var A=ee=>{var me=ss(),oe=s(me);je(oe);var De=n(oe,2),Ae=s(De);Ae.value=Ae.__value="process";var Ye=n(Ae);Ye.value=Ye.__value="decision";var ze=n(Ye);ze.value=ze.__value="end",a(De),a(me),Xe(oe,()=>e(ue),Fe=>r(ue,Fe)),Se(De,()=>e(ge),Fe=>r(ge,Fe)),c(ee,me)};D(q,ee=>{e(fe)&&ee(A)})}a(te);var k=n(te,2),P=n(s(k),2);P.__change=[os,E,S];var w=s(P);w.value=w.__value="";var H=n(w);Pe(H,17,()=>e(C),ee=>ee.id,(ee,me)=>{var oe=ns(),De=s(oe,!0);a(oe);var Ae={};W(()=>{z(De,e(me).label),Ae!==(Ae=e(me).id)&&(oe.value=(oe.__value=e(me).id)??"")}),c(ee,oe)});var N=n(H);N.value=N.__value="new",a(P);var pe=n(P,2);{var Ee=ee=>{var me=is(),oe=s(me);je(oe);var De=n(oe,2),Ae=s(De);Ae.value=Ae.__value="process";var Ye=n(Ae);Ye.value=Ye.__value="decision";var ze=n(Ye);ze.value=ze.__value="end",a(De),a(me),Xe(oe,()=>e(ve),Fe=>r(ve,Fe)),Se(De,()=>e(Ie),Fe=>r(Ie,Fe)),c(ee,me)};D(pe,ee=>{e(E)&&ee(Ee)})}a(k),a(_e),Xe($,()=>e(L),ee=>r(L,ee)),Se(se,()=>e(V),ee=>r(V,ee)),Se(P,()=>e(S),ee=>r(S,ee)),c(K,_e)};D(ke,K=>{e(re)==="simple"?K(Me):K(qe,!1)})}var J=n(ke,2),X=s(J);X.__click=[ia,M,Q,Ve];var ae=n(X,2);ae.__click=[ra,l,Q,t,o,re,ce,Ne,O,U,V,S,fe,ue,ge,E,ve,Ie,M,Ve];var le=s(ae,!0);a(ae),a(J),a(j),W(K=>{Le(Te,1,`btn flex-1 btn-sm ${e(re)==="simple"?"btn-primary":"btn-outline"}`),Le(he,1,`btn flex-1 btn-sm ${e(re)==="decision"?"btn-primary":"btn-outline"}`),ae.disabled=K,z(le,e(Q)?"Save Changes":"Save")},[()=>e(re)==="simple"?!e(ce)||e(Ne)&&!e(O).trim():!e(V)&&!e(S)||e(fe)&&!e(ue).trim()||e(E)&&!e(ve).trim()]),c(g,j)};D(Pt,g=>{e(M)&&g(Ct)})}a(dt),a(Ge),W(()=>{z(ht,t.selectedNode.label),Le(Je,1,`badge badge-sm ${t.selectedNode.completed?"badge-success":"badge-ghost"}`),z(kt,t.selectedNode.type)}),c(b,Ge),He()}at(["click","keydown","change"]);var vs=()=>pt(mt("/")),_s=p('<div class="flex h-full items-center justify-center text-center"><div class="text-base-content/60"><p class="mb-2 text-lg font-medium">Select a Node</p> <p class="text-sm">Click on any node in the flowchart to view its details</p></div></div>'),us=p('<div class="flex-shrink-0 bg-base-200 p-4"><div class="mb-2 text-xs text-base-content/60"><button class="hover:text-base-content">Workspaces</button> <span class="mx-1">/</span> <span> </span> <span class="mx-1">/</span> <span>Tasks</span></div> <h1 class="text-xl font-bold"> </h1></div> <div class="flex flex-1 overflow-hidden"><div class="flex flex-1 flex-col overflow-hidden border-r border-base-200 bg-base-200"><div class="flex-1 overflow-y-auto p-4"><!></div></div> <div class="flex-shrink-0 overflow-auto bg-base-100"><div class="mx-auto" style="width: fit-content;"><!></div></div></div>',1),bs=()=>pt(mt("/")),fs=p(`<div class="flex h-full w-full items-center justify-center"><div class="text-center"><h2 class="mb-2 text-2xl font-bold">Task Not Found</h2> <p class="mb-4 text-base-content/60">The task you're looking for doesn't exist or has been deleted.</p> <button class="btn btn-primary">Back to Home</button></div></div>`),ps=p('<div class="flex h-full flex-col bg-base-100"><!></div>');function Is(b,t){Re(t,!0);const o=()=>Mt(Yt,"$page",l),[l,h]=qt(),B=o().params.workspaceId??"",C=o().params.taskId??"",ne=$e.getItemStore(B),de=be(()=>ne.items.find(x=>x.id===C&&x.type==="task")),ie=be(()=>$e.workspaces.find(x=>x.id===B)),xe=be(()=>C?ne.getTaskFlowchart(C):void 0);let _=Y(null);function i(x){r(_,x,!0)}var y=ps(),m=s(y);{var T=x=>{var R=us(),F=ye(R),M=s(F),Q=s(M);Q.__click=[vs];var re=n(Q,4),ce=s(re,!0);a(re),we(4),a(M);var Ne=n(M,2),O=s(Ne,!0);a(Ne),a(F);var U=n(F,2),L=s(U),V=s(L),fe=s(V);{var ue=Ie=>{cs(Ie,{get selectedNode(){return e(_)},get taskId(){return C},get workspaceId(){return B},onNavigateToNode:i})},ge=Ie=>{var Oe=_s();c(Ie,Oe)};D(fe,Ie=>{e(_)&&e(xe)&&C&&B?Ie(ue):Ie(ge,!1)})}a(V),a(L);var S=n(L,2),E=s(S),ve=s(E);{let Ie=be(()=>e(_)?.id);$t(ve,{get flowchart(){return e(xe)},get selectedNodeId(){return e(Ie)},onNodeClick:i})}a(E),a(S),a(U),W(()=>{z(ce,e(ie).name),z(O,e(de).title)}),c(x,R)},f=x=>{var R=fs(),F=s(R),M=n(s(F),4);M.__click=[bs],a(F),a(R),c(x,R)};D(m,x=>{e(de)&&e(ie)&&e(xe)?x(T):x(f,!1)})}a(y),c(b,y),He(),h()}at(["click"]);export{Is as component};
