import{b as Ve,c as Z,a as h,d as Se,f as D,e as Be,s as we}from"../chunks/DzEwUWT7.js";import{Y as He,K as Je,aK as Ge,ay as Xe,e as Ye,u as Qe,aL as et,aM as tt,aN as at,at as Re,a3 as rt,q as st,aO as A,p as q,f as E,c as W,s as g,i as l,j as i,g as r,a9 as ee,W as S,x as ne,am as Ne,V as ze,o as nt,a as ot}from"../chunks/-O1spnY-.js";import{s as J,r as G,p as it,i as U}from"../chunks/BuMt1Zx9.js";import{I as X,s as V,e as Me,i as lt,r as ct,b as dt,X as Fe,g as vt,a as ut,c as be,d as ft,T as ht,S as _t,f as pt,h as bt,j as ke,k as re}from"../chunks/DIPdm855.js";import{g as gt}from"../chunks/CJEgj7Ra.js";import{r as Te}from"../chunks/By7dMmQs.js";const mt=()=>performance.now(),se={tick:s=>requestAnimationFrame(s),now:()=>mt(),tasks:new Set};function Le(){const s=se.now();se.tasks.forEach(e=>{e.c(s)||(se.tasks.delete(e),e.f())}),se.tasks.size!==0&&se.tick(Le)}function yt(s){let e;return se.tasks.size===0&&se.tick(Le),{promise:new Promise(t=>{se.tasks.add(e={c:s,f:t})}),abort(){se.tasks.delete(e)}}}function me(s,e){Re(()=>{s.dispatchEvent(new CustomEvent(e))})}function wt(s){if(s==="float")return"cssFloat";if(s==="offset")return"cssOffset";if(s.startsWith("--"))return s;const e=s.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Ie(s){const e={},t=s.split(";");for(const a of t){const[n,f]=a.split(":");if(!n||f===void 0)break;const o=wt(n.trim());e[o]=f.trim()}return e}const xt=s=>s;function Oe(s,e,t,a){var n=(s&tt)!==0,f=(s&at)!==0,o=n&&f,d=(s&et)!==0,m=o?"both":n?"in":"out",c,b=e.inert,I=e.style.overflow,M,N;function j(){return Re(()=>c??=t()(e,a?.()??{},{direction:m}))}var T={is_global:d,in(){if(e.inert=b,!n){N?.abort(),N?.reset?.();return}f||M?.abort(),me(e,"introstart"),M=Ce(e,j(),N,1,()=>{me(e,"introend"),M?.abort(),M=c=void 0,e.style.overflow=I})},out(F){if(!f){F?.(),c=void 0;return}e.inert=!0,me(e,"outrostart"),N=Ce(e,j(),M,0,()=>{me(e,"outroend"),F?.()})},stop:()=>{M?.abort(),N?.abort()}},L=He;if((L.nodes.t??=[]).push(T),n&&Ve){var v=d;if(!v){for(var p=L.parent;p&&(p.f&Je)!==0;)for(;(p=p.parent)&&(p.f&Ge)===0;);v=!p||(p.f&Xe)!==0}v&&Ye(()=>{Qe(()=>T.in())})}}function Ce(s,e,t,a,n){var f=a===1;if(rt(e)){var o,d=!1;return st(()=>{if(!d){var L=e({direction:f?"in":"out"});o=Ce(s,L,t,a,n)}}),{abort:()=>{d=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t?.deactivate(),!e?.duration)return n(),{abort:A,deactivate:A,reset:A,t:()=>a};const{delay:m=0,css:c,tick:b,easing:I=xt}=e;var M=[];if(f&&t===void 0&&(b&&b(0,1),c)){var N=Ie(c(0,1));M.push(N,N)}var j=()=>1-a,T=s.animate(M,{duration:m,fill:"forwards"});return T.onfinish=()=>{T.cancel();var L=t?.t()??1-a;t?.abort();var v=a-L,p=e.duration*Math.abs(v),F=[];if(p>0){var O=!1;if(c)for(var w=Math.ceil(p/16.666666666666668),P=0;P<=w;P+=1){var K=L+v*I(P/w),Y=Ie(c(K,1-K));F.push(Y),O||=Y.overflow==="hidden"}O&&(s.style.overflow="hidden"),j=()=>{var R=T.currentTime;return L+v*I(R/p)},b&&yt(()=>{if(T.playState!=="running")return!1;var R=j();return b(R,1-R),!0})}T=s.animate(F,{duration:p,fill:"forwards"}),T.onfinish=()=>{j=()=>a,b?.(a,1-a),n()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=A)},deactivate:()=>{n=A},reset:()=>{a===0&&b?.(1,0)},t:()=>j()}}const $t=!1,ca=Object.freeze(Object.defineProperty({__proto__:null,ssr:$t},Symbol.toStringTag,{value:"Module"})),kt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23fff;%20}%20%3c/style%3e%3c/defs%3e%3cpath%20class='cls-1'%20d='M348.33,145.39h-14.33v8.86c0,13.77-5.47,23.43-15.21,33.17-9.74,9.74-22.94,8.11-36.71,8.11h-55.69c-13.77,0-23.43,1.62-33.17-8.11-9.74-9.74-15.21-19.4-15.21-33.17v-8.86h-14.32c-24.89,0-44.77,19.88-44.77,44.77v122.85c0,24.88,19.89,44.77,44.77,44.77h184.65c24.88,0,44.77-19.88,44.77-44.77v-122.85c0-24.89-19.88-44.77-44.77-44.77ZM247.33,284.01c0,5.59-4.53,10.13-10.13,10.13h-39.35c-5.6,0-10.13-4.54-10.13-10.13v-40.62c0-5.59,4.53-10.13,10.13-10.13h39.35c5.6,0,10.13,4.54,10.13,10.13v40.62ZM324.29,284.01c0,5.59-4.54,10.13-10.14,10.13h-39.34c-5.59,0-10.14-4.54-10.14-10.13v-40.62c0-5.59,4.54-10.13,10.14-10.13h39.34c5.6,0,10.14,4.54,10.14,10.13v40.62Z'/%3e%3cpath%20d='M330.95,408.78h-48.98c-3.94,0-7.72,1.57-10.51,4.36-2.79,2.79-4.36,6.57-4.36,10.52v48.04c0,18.94,15.36,34.3,34.3,34.3,11.06,0,21.41-5.47,27.65-14.6,6.87-10.06,16.4-24.01,25.67-37.59,6.02-8.82,6.66-20.24,1.68-29.68-4.98-9.44-14.78-15.35-25.45-15.35Z'/%3e%3cpath%20d='M470.99,212.16c-8.36,0-15.23,6.88-15.23,15.23v18.41h-29.34v-55.65c0-42.92-35.17-78.09-78.09-78.09h-9.02l14.22-53.17c11.11-3.46,18.75-13.99,18.76-25.85,0-14.84-11.95-27.04-26.48-27.04h0c-14.53,0-26.48,12.21-26.48,27.04.03,5.8,1.88,11.44,5.28,16.09l-16.82,62.94h-103.55l-16.82-62.94c3.4-4.64,5.26-10.29,5.28-16.09,0-14.84-11.95-27.04-26.48-27.04h0c-14.53,0-26.48,12.21-26.48,27.04,0,11.86,7.65,22.39,18.76,25.85l14.22,53.17h-9.02c-42.92,0-78.09,35.17-78.09,78.09v55.65h-29.34v-18.41c0-8.36-6.88-15.23-15.23-15.23s-15.23,6.88-15.23,15.23v68.81c.12,8.28,6.96,15.02,15.23,15.02s15.11-6.74,15.23-15.02v-19.94h29.34v36.74c0,42.92,35.18,78.09,78.09,78.09h184.65c42.92,0,78.09-35.17,78.09-78.09v-36.74h29.34v19.94c.12,8.28,6.96,15.02,15.23,15.02s15.11-6.74,15.23-15.02v-68.81c0-8.36-6.88-15.23-15.23-15.23ZM393.09,313c0,24.88-19.88,44.77-44.77,44.77h-184.65c-24.89,0-44.77-19.88-44.77-44.77v-122.85c0-24.89,19.89-44.77,44.77-44.77h14.32v8.86c0,13.77,5.47,23.43,15.21,33.17,9.74,9.74,19.4,8.11,33.17,8.11h55.69c13.77,0,26.97,1.62,36.71-8.11,9.74-9.74,15.21-19.4,15.21-33.17v-8.86h14.33c24.88,0,44.77,19.88,44.77,44.77v122.85Z'/%3e%3cpath%20d='M227.28,94.04c1.8,2.37,4.61,3.77,7.59,3.77s5.79-1.4,7.59-3.77l14.21-18.74,13.63,17.98c1.8,2.37,4.61,3.77,7.59,3.77s5.79-1.4,7.59-3.77l17.23-22.74c3.15-4.16,2.33-10.18-1.83-13.34-1.66-1.26-3.68-1.94-5.76-1.94-2.98,0-5.79,1.39-7.59,3.77l-9.65,12.72-13.63-17.98c-1.8-2.37-4.61-3.76-7.59-3.76h0c-2.98,0-5.79,1.39-7.59,3.76l-14.21,18.75-10.39-13.71c-3.16-4.16-9.18-4.98-13.34-1.83-4.16,3.15-4.99,9.17-1.84,13.34l17.98,23.71Z'/%3e%3cpath%20d='M230.04,408.78h-48.98c-10.67,0-20.47,5.91-25.45,15.35-4.98,9.44-4.34,20.86,1.68,29.68,9.27,13.58,18.8,27.53,25.67,37.59,6.24,9.13,16.59,14.6,27.64,14.6h0c18.94,0,34.3-15.36,34.3-34.3v-48.04c0-3.94-1.57-7.73-4.36-10.52s-6.57-4.36-10.52-4.36Z'/%3e%3cpath%20d='M197.84,233.26h39.35c5.59,0,10.13,4.54,10.13,10.13v40.62c0,5.59-4.54,10.13-10.13,10.13h-39.35c-5.59,0-10.13-4.54-10.13-10.13v-40.62c0-5.59,4.54-10.13,10.13-10.13Z'/%3e%3cpath%20d='M314.15,233.26h-39.34c-5.59,0-10.14,4.54-10.14,10.13v40.62c0,5.59,4.54,10.13,10.14,10.13h39.34c5.6,0,10.14-4.54,10.14-10.13v-40.62c0-5.59-4.54-10.13-10.14-10.13Z'/%3e%3c/svg%3e";function Nt(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M20 6 9 17l-5-5"}]];X(s,J({name:"check"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Mt(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]];X(s,J({name:"circle-alert"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Tt(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]];X(s,J({name:"circle-check-big"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Ct(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["circle",{cx:"12",cy:"12",r:"1"}],["circle",{cx:"12",cy:"5",r:"1"}],["circle",{cx:"12",cy:"19",r:"1"}]];X(s,J({name:"ellipsis-vertical"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function St(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];X(s,J({name:"info"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Ft(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M4 12h16"}],["path",{d:"M4 18h16"}],["path",{d:"M4 6h16"}]];X(s,J({name:"menu"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Pt(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"}]];X(s,J({name:"moon"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Et(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"m16 15-3-3 3-3"}]];X(s,J({name:"panel-left-close"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Ae(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M9 3v18"}],["path",{d:"m14 9 3 3-3 3"}]];X(s,J({name:"panel-left-open"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function ye(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];X(s,J({name:"square-pen"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function It(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];X(s,J({name:"sun"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}function Ot(s,e){q(e,!0);let t=G(e,["$$slots","$$events","$$legacy"]);const a=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];X(s,J({name:"trash-2"},()=>t,{get iconNode(){return a},children:(n,f)=>{var o=Z(),d=E(o);V(d,()=>e.children??A),h(n,o)},$$slots:{default:!0}})),W()}var At=D('<div class="flex items-center border-b border-base-200 p-3"><div class="flex-1"><div class="flex items-center justify-between gap-2"><div class="flex min-w-0 flex-1 items-center gap-2"><div class="h-5 w-48 skeleton"></div></div> <div class="h-4 w-8 skeleton"></div></div></div> <div class="w-8"></div></div>'),Dt=D('<input type="text" class="input input-sm min-w-0 flex-1"/>'),Rt=D('<h3 class="truncate text-sm font-medium"> </h3>'),zt=D('<span class="flex-shrink-0 text-xs text-base-content/50"> </span>'),Lt=D('<div class="flex items-center gap-1 px-2"><button class="btn btn-ghost btn-xs" aria-label="Cancel editing"><!></button> <button class="btn text-success btn-ghost btn-xs hover:bg-success/20" aria-label="Save changes"><!></button></div>'),Ut=D('<div class="dropdown dropdown-end opacity-0 transition-opacity group-hover:opacity-100"><div tabindex="0" role="button" class="btn btn-square btn-ghost btn-sm"><!></div> <ul class="dropdown-content menu z-[1] w-32 rounded-box border bg-base-100 p-2 shadow"><li><button class="text-sm"><!> Rename</button></li> <li><button class="text-sm text-error"><!> Delete</button></li></ul></div>'),Zt=D('<div class="group flex items-center border-b border-base-200 hover:bg-base-100"><button class="flex-1 truncate p-3 text-left transition-colors focus:outline-none"><div class="flex items-center justify-between gap-2"><div class="flex min-w-0 flex-1 items-center gap-2"><!></div> <!></div></button> <!> <!></div>'),jt=D('<div class="flex h-full flex-col"><div class="flex-shrink-0 p-2"><h2 class="font-semibold text-base-content/60">Conversations</h2></div> <div class="flex-1 overflow-y-auto"><!></div></div>');function qt(s,e){q(e,!0);let t=it(e,"isLoading",3,!1),a=ee(null),n=ee("");function f(v){gt(Te(`/c/${v}`)),e.onThreadClick?.()}function o(v){const F=new Date().getTime()-new Date(v).getTime(),O=Math.floor(F/(1e3*60)),w=Math.floor(F/(1e3*60*60)),P=Math.floor(F/(1e3*60*60*24));return O<1?"now":O<60?`${O}m`:w<24?`${w}h`:`${P}d`}function d(v,p){S(a,v,!0),S(n,p||"",!0)}function m(){r(a)&&r(n).trim()&&(e.onRename(r(a),r(n).trim()),S(a,null),S(n,""))}function c(){S(a,null),S(n,"")}function b(v){e.onDelete(v)}function I(v){v.key==="Enter"?m():v.key==="Escape"&&c()}var M=jt(),N=g(l(M),2),j=l(N);{var T=v=>{var p=Z(),F=E(p);Me(F,16,()=>Array(5).fill(null),lt,(O,w)=>{var P=At();h(O,P)}),h(v,p)},L=v=>{var p=Z(),F=E(p);Me(F,17,()=>e.threads,O=>O.id,(O,w)=>{var P=Zt(),K=l(P);K.__click=()=>f(r(w).id);var Y=l(K),R=l(Y),ve=l(R);{var oe=$=>{var _=Dt();ct(_),_.__keydown=I,_.__click=k=>k.stopPropagation(),Be("focus",_,k=>k.target.select()),dt(_,()=>r(n),k=>S(n,k)),h($,_)},ce=$=>{var _=Rt(),k=l(_,!0);i(_),ne(()=>we(k,r(w).title||"Untitled")),h($,_)};U(ve,$=>{r(a)===r(w).id?$(oe):$(ce,!1)})}i(R);var ue=g(R,2);{var fe=$=>{var _=zt(),k=l(_,!0);i(_),ne(Q=>we(k,Q),[()=>o(r(w).created)]),h($,_)};U(ue,$=>{r(a)!==r(w).id&&$(fe)})}i(Y),i(K);var y=g(K,2);{var z=$=>{var _=Lt(),k=l(_);k.__click=c;var Q=l(k);Fe(Q,{class:"h-3 w-3"}),i(k);var B=g(k,2);B.__click=m;var ae=l(B);Nt(ae,{class:"h-3 w-3"}),i(B),i(_),h($,_)};U(y,$=>{r(a)===r(w).id&&$(z)})}var te=g(y,2);{var ie=$=>{var _=Ut(),k=l(_),Q=l(k);Ct(Q,{class:"h-4 w-4"}),i(k);var B=g(k,2),ae=l(B),H=l(ae);H.__click=()=>d(r(w).id,r(w).title);var xe=l(H);ye(xe,{class:"h-4 w-4"}),Ne(),i(H),i(ae);var he=g(ae,2),_e=l(he);_e.__click=()=>b(r(w).id);var ge=l(_e);Ot(ge,{class:"h-4 w-4"}),Ne(),i(_e),i(he),i(B),i(_),h($,_)};U(te,$=>{r(a)!==r(w).id&&$(ie)})}i(P),h(O,P)}),h(v,p)};U(j,v=>{t()?v(T):v(L,!1)})}i(N),i(M),h(s,M),W()}Se(["click","keydown"]);function Wt(s){const e=s-1;return e*e*e+1}function De(s,{delay:e=0,duration:t=400,easing:a=Wt,axis:n="y"}={}){const f=getComputedStyle(s),o=+f.opacity,d=n==="y"?"height":"width",m=parseFloat(f[d]),c=n==="y"?["top","bottom"]:["left","right"],b=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),I=parseFloat(f[`padding${b[0]}`]),M=parseFloat(f[`padding${b[1]}`]),N=parseFloat(f[`margin${b[0]}`]),j=parseFloat(f[`margin${b[1]}`]),T=parseFloat(f[`border${b[0]}Width`]),L=parseFloat(f[`border${b[1]}Width`]);return{delay:e,duration:t,easing:a,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*o};${d}: ${v*m}px;padding-${c[0]}: ${v*I}px;padding-${c[1]}: ${v*M}px;margin-${c[0]}: ${v*N}px;margin-${c[1]}: ${v*j}px;border-${c[0]}-width: ${v*T}px;border-${c[1]}-width: ${v*L}px;min-${d}: 0`}}var Kt=D('<div class="mt-1 text-xs break-all opacity-80"> </div>'),Vt=D('<div class="absolute -top-8 right-1 rounded bg-success px-2 py-1 text-xs text-success-content opacity-100 shadow-lg transition-opacity duration-500">Copied!</div>'),Bt=D('<div class="mt-2 h-1 overflow-hidden rounded bg-black/10"><div class="h-full animate-pulse bg-current opacity-60"></div></div>'),Ht=D('<div><div class="flex items-start gap-3"><div class="flex-shrink-0"><!></div> <div class="min-w-0 flex-1"><div class="text-sm font-medium break-all"> </div> <!></div></div> <div class="absolute top-1 right-1 flex gap-1 rounded p-1 opacity-0 backdrop-blur-sm transition-opacity group-hover:opacity-100"><button type="button" class="btn btn-ghost btn-xs" title="Copy notification"><!></button> <button class="btn btn-ghost btn-xs" aria-label="Close notification"><!></button></div> <!></div> <!>',1),Jt=D('<div class="fixed right-4 bottom-4 z-50 flex w-80 flex-col gap-3"></div>');function Gt(s,e){q(e,!0);let t=ee(null);const a=vt();function n(m){const c="alert shadow-lg border";switch(m){case"success":return`${c} alert-success`;case"error":return`${c} alert-error`;case"warning":return`${c} alert-warning`;case"info":return`${c} alert-info`;default:return`${c}`}}function f(m){a.remove(m)}async function o(m){const c=m.message?`${m.title}
${m.message}`:m.title;await navigator.clipboard.writeText(c),S(t,m.id,!0),setTimeout(()=>{S(t,null)},2e3)}var d=Jt();Me(d,21,()=>a.notifications,m=>m.id,(m,c)=>{var b=Ht(),I=E(b),M=l(I),N=l(M),j=l(N);{var T=y=>{Tt(y,{class:"h-5 w-5"})},L=y=>{var z=Z(),te=E(z);{var ie=_=>{Mt(_,{class:"h-5 w-5"})},$=_=>{var k=Z(),Q=E(k);{var B=H=>{ht(H,{class:"h-5 w-5"})},ae=H=>{St(H,{class:"h-5 w-5"})};U(Q,H=>{r(c).type==="warning"?H(B):H(ae,!1)},!0)}h(_,k)};U(te,_=>{r(c).type==="error"?_(ie):_($,!1)},!0)}h(y,z)};U(j,y=>{r(c).type==="success"?y(T):y(L,!1)})}i(N);var v=g(N,2),p=l(v),F=l(p,!0);i(p);var O=g(p,2);{var w=y=>{var z=Kt(),te=l(z,!0);i(z),ne(()=>we(te,r(c).message)),h(y,z)};U(O,y=>{r(c).message&&y(w)})}i(v),i(M);var P=g(M,2),K=l(P);K.__click=()=>o(r(c));var Y=l(K);ut(Y,{class:"h-3 w-3"}),i(K);var R=g(K,2);R.__click=()=>f(r(c).id);var ve=l(R);Fe(ve,{class:"h-3 w-3"}),i(R),i(P);var oe=g(P,2);{var ce=y=>{var z=Vt();h(y,z)};U(oe,y=>{r(t)===r(c).id&&y(ce)})}i(I);var ue=g(I,2);{var fe=y=>{var z=Bt(),te=l(z);i(z),ne(()=>ft(te,`animation: shrink ${r(c).duration??""}ms linear forwards;`)),h(y,z)};U(ue,y=>{r(c).autoClose&&r(c).duration&&r(c).duration>0&&y(fe)})}ne(y=>{be(I,1,`${y??""} group relative`),we(F,r(c).title)},[()=>n(r(c).type)]),Oe(1,I,()=>De,()=>({duration:300})),Oe(2,I,()=>De,()=>({duration:200})),h(m,b)}),i(d),h(s,d),W()}Se(["click"]);class Xt{#e=ee(ze([]));get notifications(){return r(this.#e)}set notifications(e){S(this.#e,e,!0)}add(e){const t=crypto.randomUUID(),a={...e,id:t,timestamp:new _t,autoClose:typeof e.autoClose=="boolean"?e.autoClose:e.type!=="error",duration:e.duration||(e.type==="error"?0:5e3)};return this.notifications.push(a),a.autoClose&&a.duration&&a.duration>0&&setTimeout(()=>{this.remove(t)},a.duration),t}remove(e){this.notifications=this.notifications.filter(t=>t.id!==e)}clear(){this.notifications=[]}success(e,t,a){return this.add({type:"success",title:e,message:t,duration:a})}error(e,t){return this.add({type:"error",title:e,message:t,autoClose:!1})}warning(e,t,a){return this.add({type:"warning",title:e,message:t,duration:a})}info(e,t,a){return this.add({type:"info",title:e,message:t,duration:a})}}var Yt=D('<link rel="icon"/> <link rel="stylesheet" href="/assets/theme.css"/>',1),Qt=D('<div class="fixed inset-0 z-30 bg-black/50 lg:hidden" role="button" tabindex="0"></div>'),ea=D('<div class="absolute top-0 left-0 z-10 hidden h-15 items-center bg-transparent p-2 lg:flex"><div class="flex items-center gap-2"><a class="flex items-center gap-2 text-xl font-bold hover:opacity-80"><img alt="Nanobot" class="h-12"/></a> <a class="btn p-1 btn-ghost btn-sm" aria-label="New thread"><!></a> <button class="btn p-1 btn-ghost btn-sm" aria-label="Open sidebar"><!></button></div></div>'),ta=D('<div class="absolute top-4 left-4 z-50 flex gap-2 lg:hidden"><a class="btn border border-base-300 bg-base-100/80 btn-ghost backdrop-blur-sm btn-sm" aria-label="New thread"><!></a> <button class="btn border border-base-300 bg-base-100/80 btn-ghost backdrop-blur-sm btn-sm" aria-label="Open sidebar"><!></button></div>'),aa=D('<div class="relative flex h-dvh"><div><div><div><a class="flex items-center gap-2 text-xl font-bold hover:opacity-80"><img alt="Nanobot" class="h-12"/></a> <div class="flex items-center gap-1"><a class="btn p-1 btn-ghost btn-sm" aria-label="New thread"><!></a> <button class="btn p-1 btn-ghost btn-sm"><span class="hidden lg:inline"><!></span> <span class="lg:hidden"><!></span></button></div></div> <div><div class="flex h-full flex-col"><div class="flex-shrink-0 overflow-y-auto"><!></div></div></div> <div class="absolute bottom-4 left-4 z-50"><button class="btn btn-circle border-base-300 bg-base-100 shadow-lg btn-sm" aria-label="Toggle theme"><!></button></div></div></div> <!> <!> <!> <div class="h-dvh flex-1"><!></div></div> <!>',1);function da(s,e){q(e,!0);let t=ee(ze([])),a=ee(!0),n=ee(!1),f=ee(!1),o=ee("nanobotlight"),d=ee("/assets/nanobot.svg");const m=Te("/"),c=Te("/"),b=new Xt;pt(b),nt(async()=>{if(window.innerWidth>=1024){const u=localStorage.getItem("sidebar-collapsed");u!==null&&S(n,JSON.parse(u),!0)}{const u=localStorage.getItem("theme");if(u)S(o,u,!0);else{const x=window.matchMedia("(prefers-color-scheme: dark)").matches;S(o,x?"nanobotdark":"nanobotlight",!0)}document.documentElement.setAttribute("data-theme",r(o))}S(t,await ke.getThreads(),!0),S(a,!1)}),ot(()=>{r(o)&&requestAnimationFrame(()=>{const u=getComputedStyle(document.documentElement).getPropertyValue("--logo-url");S(d,u||"/assets/nanobot.svg",!0)})});function I(){window.innerWidth>=1024&&(S(n,!r(n)),localStorage.setItem("sidebar-collapsed",JSON.stringify(r(n))))}function M(){S(f,!r(f))}function N(){S(f,!1)}async function j(u,x){try{await ke.renameThread(u,x);const C=r(t).findIndex(le=>le.id===u);C!==-1&&(r(t)[C].title=x),b.success("Thread Renamed",`Successfully renamed to "${x}"`)}catch(C){b.error("Rename Failed","Unable to rename the thread. Please try again."),console.error("Failed to rename thread:",C)}}async function T(u){try{await ke.deleteThread(u);const x=r(t).find(C=>C.id===u);S(t,r(t).filter(C=>C.id!==u),!0),b.success("Thread Deleted",`Deleted "${x?.title||"thread"}"`)}catch(x){b.error("Delete Failed","Unable to delete the thread. Please try again."),console.error("Failed to delete thread:",x)}}function L(){S(o,r(o)==="nanobotlight"?"nanobotdark":"nanobotlight",!0),document.documentElement.setAttribute("data-theme",r(o)),localStorage.setItem("theme",r(o))}var v=aa();bt("12qhfyh",u=>{var x=Yt(),C=E(x);Ne(2),ne(()=>re(C,"href",kt)),h(u,x)});var p=E(v),F=l(p),O=l(F),w=l(O),P=l(w),K=l(P);i(P);var Y=g(P,2),R=l(Y),ve=l(R);ye(ve,{class:"h-5 w-5"}),i(R);var oe=g(R,2);oe.__click=()=>{window.innerWidth>=1024?I():N()};var ce=l(oe),ue=l(ce);{var fe=u=>{Ae(u,{class:"h-5 w-5"})},y=u=>{Et(u,{class:"h-5 w-5"})};U(ue,u=>{r(n)?u(fe):u(y,!1)})}i(ce);var z=g(ce,2),te=l(z);Fe(te,{class:"h-5 w-5"}),i(z),i(oe),i(Y),i(w);var ie=g(w,2),$=l(ie),_=l($),k=l(_);qt(k,{get threads(){return r(t)},onRename:j,onDelete:T,get isLoading(){return r(a)},onThreadClick:N}),i(_),i($),i(ie);var Q=g(ie,2),B=l(Q);B.__click=L;var ae=l(B);{var H=u=>{Pt(u,{class:"h-4 w-4"})},xe=u=>{It(u,{class:"h-4 w-4"})};U(ae,u=>{r(o)==="nanobotlight"?u(H):u(xe,!1)})}i(B),i(Q),i(O),i(F);var he=g(F,2);{var _e=u=>{var x=Qt();x.__click=N,x.__keydown=C=>C.key==="Enter"||C.key===" "?N():null,h(u,x)};U(he,u=>{r(f)&&u(_e)})}var ge=g(he,2);{var Ue=u=>{var x=ea(),C=l(x),le=l(C),pe=l(le);i(le);var de=g(le,2),We=l(de);ye(We,{class:"h-4 w-4"}),i(de);var $e=g(de,2);$e.__click=I;var Ke=l($e);Ae(Ke,{class:"h-4 w-4"}),i($e),i(C),i(x),ne(()=>{re(le,"href",m),re(pe,"src",r(d)),re(de,"href",c)}),h(u,x)};U(ge,u=>{r(n)&&u(Ue)})}var Pe=g(ge,2);{var Ze=u=>{var x=ta(),C=l(x),le=l(C);ye(le,{class:"h-5 w-5"}),i(C);var pe=g(C,2);pe.__click=M;var de=l(pe);Ft(de,{class:"h-5 w-5"}),i(pe),i(x),ne(()=>re(C,"href",c)),h(u,x)};U(Pe,u=>{r(f)||u(Ze)})}var Ee=g(Pe,2),je=l(Ee);V(je,()=>e.children??A),i(Ee),i(p);var qe=g(p,2);Gt(qe,{}),ne(()=>{be(F,1,`
		bg-base-200 transition-all duration-300 ease-in-out
		${r(n)?"hidden lg:block lg:w-0":"hidden lg:block lg:w-80"}
		${r(f)?"fixed inset-y-0 left-0 z-40 block! w-80":"lg:relative"}
	`),be(O,1,`flex h-full flex-col ${r(n)?"lg:overflow-hidden":""}`),be(w,1,`flex h-15 items-center justify-between p-2 ${r(n)?"":"min-w-80"}`),re(P,"href",m),re(K,"src",r(d)),re(R,"href",c),re(oe,"aria-label",r(n)?"Open sidebar":"Close sidebar"),be(ie,1,`flex-1 overflow-hidden ${r(n)?"":"min-w-80"}`)}),h(s,v),W()}Se(["click","keydown"]);export{da as component,ca as universal};
